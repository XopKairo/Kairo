{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_native","_reactDelegateComponent","_interopRequireDefault","_reactNativeKeepAwake","_reactNativeSafeAreaContext","_zegoUikitRn","_defines","_timing_helper","_keyboard","_logger","_minimizing_helper","_prebuilt_helper","_AudioVideoForegroundView","_ZegoBottomBar","_ZegoCallMemberList","_ZegoMenuBarButtonName","_ZegoMenuBarStyle","_ZegoPrebuiltForegroundView","_ZegoTopMenuBar","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ZegoUIKitPrebuiltCall","props","ref","navigation","useNavigation","insets","useSafeAreaInsets","isMinimizeSwitch","MinimizingHelper","getInstance","getIsMinimizeSwitch","notifyEntryNormal","appID","appSign","userID","userName","callID","config","token","onRequireNewToken","setInitParams","audioVideoViewConfig","bottomMenuBarConfig","topMenuBarConfig","memberListConfig","layout","hangUpConfirmInfo","onHangUpConfirmation","onJoinRoom","onCallEnd","onUserJoin","durationConfig","timingConfig","avatarBuilder","foregroundBuilder","prebuiltForegroundBuilder","messageItemBuilder","useFrontFacingCamera","showMicrophoneStateOnView","showCameraStateOnView","showUserNameOnView","showSoundWavesInAudioMode","useVideoViewAspectFill","buttons","ZegoMenuBarButtonName","toggleCameraButton","switchCameraButton","hangUpButton","toggleMicrophoneButton","switchAudioOutputButton","maxCount","extendButtons","hideAutomatically","hideByClick","style","ZegoMenuBarStyle","light","isVisible","title","topTitle","topButtons","topMaxCount","topExtendButtons","topHideAutomatically","topHideByClick","topStyle","showMicrophoneState","showCameraState","itemBuilder","enableTiming","isDurationVisible","onDurationUpdate","stateData","useRef","PrebuiltHelper","getStateData","isFrontCamera","setIsFrontCamera","useState","current","turnOnCameraWhenJoining","setTurnOnCameraWhenJoining","undefined","turnOnMicrophoneWhenJoining","setTurnOnMicrophoneWhenJoining","useSpeakerWhenJoining","setUseSpeakerWhenJoining","isBottomMenubarVisable","setBottomMenubarVisable","isTopMenubarVisable","setTopMenubarVisable","isCallMemberListVisable","setIsCallMemberListVisable","textInputVisable","setTextInputVisable","keyboardHeight","useKeyboard","hideCountdown","hideCountdownOnTopMenu","debounce","callbackID","String","Math","floor","random","isPageInBackground","isMinimize","getIsMinimize","onFullPageTouch","zloginfo","grantPermissions","callback","Platform","OS","grantedAudio","PermissionsAndroid","check","PERMISSIONS","RECORD_AUDIO","grantedCamera","CAMERA","ungrantedPermissions","isAudioGranted","isVideoGranted","push","isVideoCall","includes","error","requestMultiple","then","result","showLeaveAlert","Promise","resolve","reject","message","cancelButtonName","confirmButtonName","Alert","alert","text","onPress","cancelable","sortAudioVideo","globalAudioVideoUserList","mode","ZegoLayoutMode","pictureInPicture","length","index","findIndex","user","localUser","splice","startCallTimingTimer","useCallback","TimingHelper","stopTimer","startTimer","destroyCallTimingTimer","isFromMinimize","resetDuration","onOpenCallMemberList","onCloseCallMemberList","onSwitchCamera","showMessageListView","messageButton","useImperativeHandle","hangUp","showConfirmation","duration","getDuration","ZegoCallEndReason","localHangUp","temp","minimizeWindow","handleBackButton","_getCacheAVUserListWhenMinimizeSwitched","removeViewWhenAudioVideoUnavailable","allUsers","ZegoUIKit","getAllUsers","filter","hasStreamUsers","isCameraOn","isMicrophoneOn","useEffect","onOnlySelfInRoom","remoteHangUp","onMeRemovedFromRoom","kickOut","onMicrophoneOn","targetUserID","isOn","onCameraOn","onAudioOutputDeviceChanged","type","onPrebuiltDestroy","leaveRoom","clearState","clearRouteParams","clearNotify","setIsMinimizeSwitch","KeepAwake","deactivate","curMinimizeSwitch","init","notifyPrebuiltInit","setAudioOutputToSpeaker","joinRoom","turnCameraOn","turnMicrophoneOn","backHandler","BackHandler","addEventListener","setOptions","gestureEnabled","activate","remove","useInterval","delay","savedCallback","tick","id","setInterval","clearInterval","createElement","View","styles","container","fillParent","foregroundContainer","pointerEvents","foregroundView","foregroundBuilderContainer","to","menuTitle","menuBarButtonsMaxCount","menuBarButtons","menuBarExtendedButtons","onHangUp","onMessagePress","bottom","right","onTouchStart","ZegoAudioVideoContainer","audioVideoView","audioVideoConfig","cacheAudioVideoUserList","userInfo","messageListView","ZegoInRoomMessageView","onMorePress","KeyboardAvoidingView","behavior","keyboardVerticalOffset","Version","messageInputPannel","height","ZegoInRoomMessageInput","input","onContentSizeChange","placeholder","onSumit","_default","exports","forwardRef","StyleSheet","create","flex","alignItems","justifyContent","zIndex","width","position","top","foregroundBuilderDelegate","borderTopLeftRadius","borderTopRightRadius","backgroundColor","left","maxHeight"],"sources":["index.js"],"sourcesContent":["import React, { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\nimport { Alert, BackHandler, KeyboardAvoidingView, PermissionsAndroid, Platform, StyleSheet, View } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport Delegate from 'react-delegate-component';\nimport KeepAwake from 'react-native-keep-awake'\nimport { useSafeAreaInsets } from \"react-native-safe-area-context\"\n\nimport ZegoUIKit, { ZegoAudioVideoContainer, ZegoInRoomMessageInput, ZegoInRoomMessageView, ZegoLayoutMode } from '@zegocloud/zego-uikit-rn'\n\nimport { ZegoCallEndReason } from '../services/defines';\nimport TimingHelper from \"../services/timing_helper\";\nimport { useKeyboard } from '../utils/keyboard';\nimport { zloginfo } from '../utils/logger';\nimport MinimizingHelper from \"./services/minimizing_helper\";\nimport PrebuiltHelper from \"./services/prebuilt_helper\";\nimport AudioVideoForegroundView from './AudioVideoForegroundView';\nimport ZegoBottomBar from './ZegoBottomBar';\nimport ZegoCallMemberList from './ZegoCallMemberList';\nimport ZegoMenuBarButtonName from './ZegoMenuBarButtonName';\nimport ZegoMenuBarStyle from './ZegoMenuBarStyle';\nimport ZegoPrebuiltForegroundView from './ZegoPrebuiltForegroundView';\nimport ZegoTopMenuBar from './ZegoTopMenuBar';\n\nfunction ZegoUIKitPrebuiltCall(props, ref) {\n    const navigation = useNavigation();\n    const insets = useSafeAreaInsets();\n\n    const isMinimizeSwitch = MinimizingHelper.getInstance().getIsMinimizeSwitch();\n    !isMinimizeSwitch && MinimizingHelper.getInstance().notifyEntryNormal();\n\n    const {\n        appID,\n        appSign,\n        userID,\n        userName,\n        callID,\n        config,\n        token = '',\n        onRequireNewToken,\n    } = props;\n\n    MinimizingHelper.getInstance().setInitParams(appID, appSign, userID, userName, callID, {\n        ...config,\n        token,\n        onRequireNewToken,\n    });\n\n    const {\n        audioVideoViewConfig = {},\n\n        // turnOnCameraWhenJoining = true,\n        // turnOnMicrophoneWhenJoining = true,\n        // useSpeakerWhenJoining = true,\n\n        bottomMenuBarConfig = {},\n        topMenuBarConfig = {},\n        memberListConfig = {},\n\n        layout = {},    // {mode, config}\n\n        hangUpConfirmInfo, // {title: '', cancelButtonName: '', confirmButtonName: ''}\n\n        onHangUpConfirmation,\n        onJoinRoom,\n        onCallEnd,\n        onUserJoin,\n        durationConfig = {}, // Deprecate\n        timingConfig = {},\n        avatarBuilder,\n        foregroundBuilder: prebuiltForegroundBuilder,\n        messageItemBuilder,\n        useFrontFacingCamera = true\n    } = config;\n    const {\n        showMicrophoneStateOnView = true,\n        showCameraStateOnView = false,\n        showUserNameOnView = true,\n        showSoundWavesInAudioMode = true,\n        useVideoViewAspectFill = true,\n        foregroundBuilder,\n    } = audioVideoViewConfig;\n    const {\n        buttons = [\n            ZegoMenuBarButtonName.toggleCameraButton,\n            ZegoMenuBarButtonName.switchCameraButton,\n            ZegoMenuBarButtonName.hangUpButton,\n            ZegoMenuBarButtonName.toggleMicrophoneButton,\n            ZegoMenuBarButtonName.switchAudioOutputButton\n        ],\n        maxCount = 5,\n        extendButtons = [],\n        hideAutomatically = true,\n        hideByClick = true,\n        style = ZegoMenuBarStyle.light,\n    } = bottomMenuBarConfig;\n    const {\n        isVisible = true,\n        title: topTitle = userName || '',\n        buttons: topButtons = [],\n        maxCount: topMaxCount = 3,\n        extendButtons: topExtendButtons = [],\n        hideAutomatically: topHideAutomatically = true,\n        hideByClick: topHideByClick = true,\n        style: topStyle = ZegoMenuBarStyle.light,\n    } = topMenuBarConfig;\n    const {\n        showMicrophoneState = true,\n        showCameraState = true,\n        itemBuilder,\n    } = memberListConfig;\n    const {\n        enableTiming = durationConfig.isVisible || true,\n        isDurationVisible = true,\n        onDurationUpdate = durationConfig.onDurationUpdate,\n    } = timingConfig\n\n    const stateData = useRef(PrebuiltHelper.getInstance().getStateData());\n\n    const [isFrontCamera, setIsFrontCamera] = useState(stateData.current.isFrontCamera || useFrontFacingCamera);\n    const [turnOnCameraWhenJoining, setTurnOnCameraWhenJoining] =\n        useState(\n            stateData.current.turnOnCameraWhenJoining !== undefined ?\n                stateData.current.turnOnCameraWhenJoining :\n                (config.turnOnCameraWhenJoining));\n    const [turnOnMicrophoneWhenJoining, setTurnOnMicrophoneWhenJoining] =\n        useState(\n            stateData.current.turnOnMicrophoneWhenJoining !== undefined ?\n                stateData.current.turnOnMicrophoneWhenJoining :\n                (config.turnOnMicrophoneWhenJoining));\n    const [useSpeakerWhenJoining, setUseSpeakerWhenJoining] =\n        useState(\n            stateData.current.useSpeakerWhenJoining !== undefined ?\n                stateData.current.useSpeakerWhenJoining :\n                (config.useSpeakerWhenJoining));\n\n    const [isBottomMenubarVisable, setBottomMenubarVisable] = useState(true);\n    const [isTopMenubarVisable, setTopMenubarVisable] = useState(true);\n    const [isCallMemberListVisable, setIsCallMemberListVisable] = useState(false);\n    const [textInputVisable, setTextInputVisable] = useState(false);\n    const keyboardHeight = useKeyboard();\n\n    var hideCountdown = 5;\n    var hideCountdownOnTopMenu = 5;\n\n    const debounce = useRef(false);\n\n    if (stateData.current.callbackID) {\n        stateData.current.callbackID = 'ZegoUIKitPrebuiltCall' +\n            String(Math.floor(Math.random() * 10000));\n    }\n    const callbackID = stateData.current.callbackID;\n\n    const isPageInBackground = () => {\n        const isMinimize = MinimizingHelper.getInstance().getIsMinimize();\n        return isMinimize;\n    }\n    const onFullPageTouch = () => {\n        zloginfo('####onFullPageTouch####');\n        hideCountdown = 5;\n        hideCountdownOnTopMenu = 5;\n        if (isBottomMenubarVisable) {\n            if (hideByClick) {\n                setBottomMenubarVisable(false);\n                setIsCallMemberListVisable(false);\n            }\n        } else {\n            setBottomMenubarVisable(true);\n        }\n        if (isTopMenubarVisable) {\n            if (topHideByClick) {\n                setTopMenubarVisable(false);\n                setIsCallMemberListVisable(false);\n            }\n        } else {\n            setTopMenubarVisable(true);\n        }\n        setTextInputVisable(false);\n    };\n    const grantPermissions = async (callback) => {\n        // Android: Dynamically obtaining device permissions\n        if (Platform.OS === 'android') {\n            // Check if permission granted\n            let grantedAudio = PermissionsAndroid.check(\n                PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n            );\n            let grantedCamera = PermissionsAndroid.check(\n                PermissionsAndroid.PERMISSIONS.CAMERA,\n            );\n            const ungrantedPermissions = [];\n            try {\n                const isAudioGranted = await grantedAudio;\n                const isVideoGranted = await grantedCamera;\n                if (!isAudioGranted) {\n                    ungrantedPermissions.push(\n                        PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n                    );\n                }\n                const isVideoCall = buttons.includes(ZegoMenuBarButtonName.toggleCameraButton) || turnOnCameraWhenJoining;\n                if (!isVideoGranted && isVideoCall) {\n                    ungrantedPermissions.push(PermissionsAndroid.PERMISSIONS.CAMERA);\n                }\n            } catch (error) {\n                ungrantedPermissions.push(\n                    PermissionsAndroid.PERMISSIONS.RECORD_AUDIO,\n                    PermissionsAndroid.PERMISSIONS.CAMERA,\n                );\n            }\n            // If not, request it\n            zloginfo(`[ZegoUIKitPrebuiltCall] requestMultiple, ungrantedPermissions: ${ungrantedPermissions}`);\n            return PermissionsAndroid.requestMultiple(ungrantedPermissions).then(\n                result => {\n                    zloginfo(`[ZegoUIKitPrebuiltCall] requestMultiple, result: ${result}`);\n                    if (callback) {\n                        callback();\n                    }\n                },\n            );\n        } else if (callback) {\n            callback();\n        }\n    };\n    // Default operation for click the leave button\n    const showLeaveAlert = () => {\n        return new Promise((resolve, reject) => {\n            if (hangUpConfirmInfo) {\n                const {\n                    title = \"Leave the call\",\n                    message = \"Are you sure to leave the call?\",\n                    cancelButtonName = \"Cancel\",\n                    confirmButtonName = \"Confirm\"\n                } = hangUpConfirmInfo;\n                Alert.alert(\n                    title,\n                    message,\n                    [\n                        {\n                            text: cancelButtonName,\n                            onPress: () => {\n                                reject();\n                            },\n                            style: \"cancel\",\n                        },\n                        {\n                            text: confirmButtonName,\n                            onPress: () => {\n                                resolve();\n                            },\n                        },\n                    ],\n                    {\n                        cancelable: false,\n                    }\n                );\n            } else {\n                resolve();\n            }\n        });\n    };\n    const sortAudioVideo = (globalAudioVideoUserList) => {\n        if (layout.mode === ZegoLayoutMode.pictureInPicture) {\n            if (globalAudioVideoUserList.length > 1) {\n                const index = globalAudioVideoUserList.findIndex(user => user.userID === userID);\n                if (index !== -1) {\n                    const localUser = globalAudioVideoUserList.splice(index, 1)[0];\n                    globalAudioVideoUserList.splice(1, 0, localUser);\n                }\n            }\n            return globalAudioVideoUserList;\n        } else {\n            // Do not deal with\n            return globalAudioVideoUserList;\n        }\n    };\n    const startCallTimingTimer = useCallback(() => {\n        if (!enableTiming) return;\n        TimingHelper.getInstance().stopTimer()\n        TimingHelper.getInstance().startTimer()\n    }, []);\n    const destroyCallTimingTimer = useCallback((isFromMinimize) => {\n        zloginfo('[ZegoUIKitPrebuiltCall] destroyCallTimingTimer, isFromMinimize:', isFromMinimize)\n        TimingHelper.getInstance().stopTimer()\n\n        // we need to reset duration when call is ended from minimize\n        if (isFromMinimize) {\n            TimingHelper.getInstance().resetDuration()\n        }\n        // we need to reset duration when the call is normal ended.\n        else if (!MinimizingHelper.getInstance().getIsMinimizeSwitch()) {\n            TimingHelper.getInstance().resetDuration()\n        }\n    }, []);\n    const onOpenCallMemberList = () => {\n        setIsCallMemberListVisable(true);\n    };\n    const onCloseCallMemberList = () => {\n        setIsCallMemberListVisable(false);\n    };\n    const onSwitchCamera = () => {\n        zloginfo('onSwitchCamera', isFrontCamera);\n\n        // Default rear camera\n        const result = !isFrontCamera;\n        stateData.current.isFrontCamera = result;\n        setIsFrontCamera(result);\n    }\n\n    const showMessageListView = () => {\n      return buttons.includes(ZegoMenuBarButtonName.messageButton);\n    }\n\n    useImperativeHandle(ref, () => ({\n        hangUp: (showConfirmation = false) => {\n            zloginfo(`[ZegoUIKitPrebuiltCall][hangUp] showConfirmation: ${showConfirmation}`)\n\n            if (debounce.current) return;\n            if (!showConfirmation) {\n                debounce.current = true;\n                const duration = TimingHelper.getInstance().getDuration();\n                typeof onCallEnd == 'function' && onCallEnd(callID, ZegoCallEndReason.localHangUp, duration);\n                debounce.current = false;\n            } else {\n                debounce.current = true;\n                const temp = onHangUpConfirmation || showLeaveAlert;\n                temp().then(() => {\n                    const duration = TimingHelper.getInstance().getDuration();\n                    typeof onCallEnd == 'function' && onCallEnd(callID, ZegoCallEndReason.localHangUp, duration);\n                    debounce.current = false;\n                });\n            }\n        },\n        minimizeWindow: () => {\n            MinimizingHelper.getInstance().minimizeWindow();\n        },\n    }));\n\n    const handleBackButton = () => {\n        return true;\n    }\n\n    const _getCacheAVUserListWhenMinimizeSwitched = () => {\n        if (isMinimizeSwitch) {\n            if (layout && layout.config && layout.config.removeViewWhenAudioVideoUnavailable == false) {\n                let allUsers = ZegoUIKit.getAllUsers().filter(user => user.userID)\n                return sortAudioVideo(allUsers)\n            } else {\n                let hasStreamUsers = ZegoUIKit.getAllUsers().filter(user => user.userID && (user.isCameraOn || user.isMicrophoneOn))\n                return sortAudioVideo(hasStreamUsers)\n            }\n        } else {\n            return null\n        }\n    }\n\n    useEffect(() => {\n        zloginfo(`[ZegoUIKitPrebuiltCall] useEffect`)\n\n        ZegoUIKit.onJoinRoom(callbackID, onJoinRoom);\n        ZegoUIKit.onOnlySelfInRoom(callbackID, () => {\n            zloginfo('[ZegoUIKitPrebuiltCall][onOnlySelfInRoom]')\n            const duration = TimingHelper.getInstance().getDuration();\n            if (typeof onCallEnd == 'function') {\n              onCallEnd(callID, ZegoCallEndReason.remoteHangUp, duration);\n            }\n        });\n        ZegoUIKit.onUserJoin(callbackID, onUserJoin);\n        ZegoUIKit.onMeRemovedFromRoom(callbackID, () => {\n            zloginfo('[ZegoUIKitPrebuiltCall][onMeRemovedFromRoom]')\n            const duration = TimingHelper.getInstance().getDuration();\n            if (typeof onCallEnd == 'function') {\n                onCallEnd(callID, ZegoCallEndReason.kickOut, duration);\n            }\n        });\n        ZegoUIKit.onRequireNewToken(callbackID, onRequireNewToken);\n        ZegoUIKit.onMicrophoneOn(callbackID, (targetUserID, isOn) => {\n            if (targetUserID === userID) {\n                stateData.current.turnOnMicrophoneWhenJoining = !!isOn;\n            }\n        });\n        ZegoUIKit.onCameraOn(callbackID, (targetUserID, isOn) => {\n            if (targetUserID === userID) {\n                stateData.current.turnOnCameraWhenJoining = !!isOn;\n            }\n        });\n        ZegoUIKit.onAudioOutputDeviceChanged(callbackID, (type) => {\n            stateData.current.useSpeakerWhenJoining = (type === 0);\n        });\n        PrebuiltHelper.getInstance().onPrebuiltDestroy(callbackID, () => {\n            // Calls are usually in the minimized mode.\n            zloginfo('[ZegoUIKitPrebuiltCall] onPrebuiltDestroy', callbackID);\n            \n            zloginfo('[ZegoUIKitPrebuiltCall] leave room, from: onPrebuiltDestroy')\n            ZegoUIKit.leaveRoom();\n            ZegoUIKit.onJoinRoom(callbackID);\n            ZegoUIKit.onOnlySelfInRoom(callbackID);\n            ZegoUIKit.onUserJoin(callbackID);\n            ZegoUIKit.onMeRemovedFromRoom(callbackID);\n            ZegoUIKit.onRequireNewToken(callbackID);\n\n            destroyCallTimingTimer(true);\n            PrebuiltHelper.getInstance().clearState();\n            PrebuiltHelper.getInstance().clearRouteParams();\n            PrebuiltHelper.getInstance().clearNotify();\n\n            MinimizingHelper.getInstance().setIsMinimizeSwitch(false, 'onPrebuiltDestroy');\n            MinimizingHelper.getInstance().notifyEntryNormal();\n            KeepAwake.deactivate();\n        })\n\n        let curMinimizeSwitch = MinimizingHelper.getInstance().getIsMinimizeSwitch()\n        ZegoUIKit.init(\n            appID,\n            appSign,\n            { userID: userID, userName: userName }).then(() => {\n                MinimizingHelper.getInstance().notifyPrebuiltInit();\n\n                ZegoUIKit.setAudioOutputToSpeaker(useSpeakerWhenJoining);\n\n                zloginfo(`[ZegoUIKitPrebuiltCall] joinRoom: ${callID}`)\n                if (appSign) {\n                    ZegoUIKit.joinRoom(callID);\n                } else {\n                    ZegoUIKit.joinRoom(callID, token || (typeof onRequireNewToken === 'function' ? (onRequireNewToken() || '') : ''));\n                }\n\n                // Skip timer reset if just switched from minimized mode.\n                if (!curMinimizeSwitch) {\n                    startCallTimingTimer();\n                }\n\n                grantPermissions(() => {\n                    // RTC need it\n                    ZegoUIKit.turnCameraOn('', false);\n                    ZegoUIKit.turnCameraOn('', turnOnCameraWhenJoining);\n                    ZegoUIKit.useFrontFacingCamera(isFrontCamera);\n                    ZegoUIKit.turnMicrophoneOn('', turnOnMicrophoneWhenJoining);\n                });\n\n            });\n\n        const backHandler = BackHandler.addEventListener('hardwareBackPress', handleBackButton);\n        navigation.setOptions({ gestureEnabled: false });\n        KeepAwake.activate();\n\n        MinimizingHelper.getInstance().setIsMinimizeSwitch(false, 'PrebuiltCall useEffect');\n\n        TimingHelper.getInstance().onDurationUpdate(callbackID, (duration) => {\n            if (typeof onDurationUpdate === 'function') {\n                zloginfo(`[ZegoUIKitPrebuiltCall] onDurationUpdate execute will, don't log succeed`)\n                onDurationUpdate(duration)\n            }\n        })\n\n        return () => {\n            zloginfo('[ZegoUIKitPrebuiltCall] useEffect return')\n\n            const isMinimizeSwitch = MinimizingHelper.getInstance().getIsMinimizeSwitch();\n            if (!isMinimizeSwitch) {\n                zloginfo('[ZegoUIKitPrebuiltCall] leave room, from: not isMinimizeSwitch')\n                ZegoUIKit.leaveRoom();\n                ZegoUIKit.onJoinRoom(callbackID);\n                ZegoUIKit.onOnlySelfInRoom(callbackID);\n                ZegoUIKit.onUserJoin(callbackID);\n                ZegoUIKit.onMeRemovedFromRoom(callbackID);\n                ZegoUIKit.onRequireNewToken(callbackID);\n\n                PrebuiltHelper.getInstance().clearState();\n                PrebuiltHelper.getInstance().clearRouteParams();\n                PrebuiltHelper.getInstance().clearNotify();\n                destroyCallTimingTimer(false);\n\n                zloginfo('[ZegoUIKitPrebuiltCall] KeepAwake deactivate')\n                KeepAwake.deactivate();\n            }\n            TimingHelper.getInstance().onDurationUpdate(callbackID)\n            backHandler.remove()\n            navigation.setOptions({ gestureEnabled: true });\n        }\n    }, []);\n\n    function useInterval(callback, delay) {\n        const savedCallback = useRef();\n\n        useEffect(() => {\n            savedCallback.current = callback;\n        });\n\n        useEffect(() => {\n            function tick() {\n                savedCallback.current();\n            }\n            if (delay !== null) {\n                let id = setInterval(tick, delay);\n                return () => clearInterval(id);\n            }\n        }, [delay]);\n    }\n    useInterval(() => {\n        hideCountdown--;\n        if (hideCountdown <= 0) {\n            hideCountdown = 5;\n            if (hideAutomatically) {\n                setBottomMenubarVisable(false);\n            }\n        }\n    }, 1000);\n    useInterval(() => {\n        hideCountdownOnTopMenu--;\n        if (hideCountdownOnTopMenu <= 0) {\n            hideCountdownOnTopMenu = 5;\n            if (topHideAutomatically) {\n                setTopMenubarVisable(false);\n            }\n        }\n    }, 1000);\n\n    return (\n        <View style={[styles.container, styles.fillParent]}>\n          <View style={styles.foregroundContainer} pointerEvents='none'>\n            <ZegoPrebuiltForegroundView\n              style={styles.foregroundView}\n              isDurationVisible={isDurationVisible}\n            />\n          </View>\n          <View style={styles.foregroundBuilderContainer} pointerEvents='box-none'>\n            <Delegate\n              // style={styles.foregroundBuilderDelegate}\n              to={prebuiltForegroundBuilder}\n            />\n          </View>\n          {isVisible && isTopMenubarVisable ?\n              <ZegoTopMenuBar\n                  menuTitle={topTitle}\n                  menuBarButtonsMaxCount={topMaxCount}\n                  menuBarButtons={topButtons}\n                  menuBarExtendedButtons={topExtendButtons}\n                  onHangUp={() => {\n                      const duration = TimingHelper.getInstance().getDuration();\n                      typeof onCallEnd == 'function' && onCallEnd(callID, ZegoCallEndReason.localHangUp, duration);\n                  }}\n                  onHangUpConfirmation={onHangUpConfirmation ? onHangUpConfirmation : showLeaveAlert}\n                  turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n                  turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n                  useSpeakerWhenJoining={useSpeakerWhenJoining}\n                  onOpenCallMemberList={onOpenCallMemberList}\n                  onSwitchCamera={onSwitchCamera}\n                  onMessagePress={() => {\n                    setTextInputVisable(true);\n                    setBottomMenubarVisable(false);\n                    setTopMenubarVisable(false);\n                  }}\n              /> : <View />\n          }\n          <View style={[styles.fillParent, {bottom: insets.bottom, right: insets.right}]} pointerEvents='auto' onTouchStart={onFullPageTouch}>\n            <ZegoAudioVideoContainer\n              style={[styles.audioVideoView, styles.fillParent]}\n              audioVideoConfig={{\n                  showSoundWavesInAudioMode: showSoundWavesInAudioMode,\n                  useVideoViewAspectFill: useVideoViewAspectFill,\n                  cacheAudioVideoUserList: _getCacheAVUserListWhenMinimizeSwitched()\n              }}\n              layout={layout}\n              avatarBuilder={avatarBuilder}\n              foregroundBuilder={foregroundBuilder ? foregroundBuilder : ({ userInfo }) =>\n                  <AudioVideoForegroundView\n                      userInfo={userInfo}\n                      showMicrophoneStateOnView={showMicrophoneStateOnView}\n                      showCameraStateOnView={showCameraStateOnView}\n                      showUserNameOnView={showUserNameOnView}\n                  />\n              }\n              sortAudioVideo={sortAudioVideo}\n            />\n            {/* Message list */}\n            {\n              showMessageListView() ? <View style={styles.messageListView}>\n                <ZegoInRoomMessageView itemBuilder={messageItemBuilder} style={styles.fillParent} />\n              </View> : null\n            }\n          </View>\n          {isBottomMenubarVisable ?\n              <ZegoBottomBar\n                  menuBarButtonsMaxCount={maxCount}\n                  menuBarButtons={buttons}\n                  menuBarExtendedButtons={extendButtons}\n                  onHangUp={() => {\n                      const duration = TimingHelper.getInstance().getDuration();\n                      typeof onCallEnd == 'function' && onCallEnd(callID, ZegoCallEndReason.localHangUp, duration);\n                  }}\n                  onHangUpConfirmation={onHangUpConfirmation ? onHangUpConfirmation : showLeaveAlert}\n                  turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n                  turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n                  useSpeakerWhenJoining={useSpeakerWhenJoining}\n                  onMorePress={() => { hideCountdown = 5; }}\n                  onSwitchCamera={onSwitchCamera}\n                  onMessagePress={() => {\n                    setTextInputVisable(true);\n                    setBottomMenubarVisable(false);\n                    setTopMenubarVisable(false);\n                  }}\n              /> :\n              <View />\n          }\n          {isCallMemberListVisable ?\n              <ZegoCallMemberList\n                  showMicrophoneState={showMicrophoneState}\n                  showCameraState={showCameraState}\n                  itemBuilder={itemBuilder}\n                  avatarBuilder={avatarBuilder}\n                  onCloseCallMemberList={onCloseCallMemberList}\n              /> :\n              <View />\n          }\n          {textInputVisable ? <KeyboardAvoidingView\n            style={styles.fillParent}\n            behavior={Platform.OS == \"ios\" ? \"padding\" : \"height\"}\n            keyboardVerticalOffset={(Platform.OS === 'android' && Platform.Version < 35) ? 32 : 0}\n          >\n            <View\n              style={[\n                styles.messageInputPannel,\n                {\n                  bottom: Platform.OS == 'ios' ? keyboardHeight : 0,\n                  height: 45,\n                },\n              ]}\n            >\n              <ZegoInRoomMessageInput\n                ref={(input) => {\n                  // setTextInput(input);\n                }}\n                // @ts-ignore\n                onContentSizeChange={(height) => {\n                  // setTextInputHeight(height);\n                }}\n                placeholder={'Say something...'}\n                onSumit={() => {\n                  setTextInputVisable(false);\n                }}\n              />\n            </View>\n          </KeyboardAvoidingView> : null}\n        </View>\n    );\n}\n\nexport default forwardRef(ZegoUIKitPrebuiltCall);\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        alignItems: 'center',\n        justifyContent: 'center',\n        zIndex: 0,\n    },\n    fillParent: {\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n    },\n    audioVideoView: {\n        flex: 1,\n        zIndex: 2,\n        right: 0,\n        top: 0,\n    },\n    foregroundContainer: {\n        flex: 1,\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        top: 6,\n        zIndex: 11,\n        alignItems: 'center',\n    },\n    foregroundView: {\n        flex: 1,\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        alignItems: 'center',\n    },\n    foregroundBuilderDelegate: {\n        flex: 1,\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        alignItems: 'center',\n    },\n    foregroundBuilderContainer: {\n        flex: 1,\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        zIndex: 21,\n        alignItems: 'center',\n    },\n    messageInputPannel: {\n      position: 'absolute',\n      borderTopLeftRadius: 12,\n      borderTopRightRadius: 12,\n      backgroundColor: 'rgba(0, 0, 0, 0.7500)',\n      width: '100%',\n    },\n    messageListView: {\n      position: 'absolute',\n      left: 16,\n      bottom: 110,\n      width: 230,\n      maxHeight: 200,\n      zIndex: 10,\n    },\n});\n"],"mappings":"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","ignoreList":[]}