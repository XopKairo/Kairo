{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ZegoBottomBar","_ZegoMenuBarButtonName","_defines","_inner_text_helper","_reactDelegateComponent","e","__esModule","default","ZegoCallInvationForeground","props","isVideoCall","invitee","onHangUp","avatarBuilder","waitingPageConfig","callName","isGroupCall","userName","getShortName","name","nl","split","shotName","forEach","part","substring","createElement","View","style","styles","container","backgroundColor","opacity","position","width","height","backgroundBuilder","content","avatar","Text","nameLabel","alignItems","justifyContent","to","userInfo","nameBuilder","InnerTextHelper","instance","getOutgoingCallPageTitle","ZegoInvitationType","videoCall","voiceCall","stateBuilder","calling","getOutgoingCallPageMessage","menuBarButtons","ZegoMenuBarButtonName","hangUpButton","buttonBuilders","hangupBuilder","StyleSheet","create","flex","zIndex","marginTop","borderRadius","marginBottom","overflow","color","fontSize","lineHeight"],"sources":["ZegoCallInvationForeground.js"],"sourcesContent":["import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport ZegoBottomBar from '../../call/ZegoBottomBar';\nimport ZegoMenuBarButtonName from '../../call/ZegoMenuBarButtonName';\nimport { ZegoInvitationType } from '../services/defines';\nimport InnerTextHelper from '../services/inner_text_helper';\nimport Delegate from 'react-delegate-component';\n\nexport default function ZegoCallInvationForeground(props) {\n  const { \n    isVideoCall, \n    invitee, \n    onHangUp, \n    avatarBuilder, \n    waitingPageConfig,\n    callName,\n    isGroupCall,\n  } = props;\n  const userName = invitee.userName;\n\n  const getShortName = (name) => {\n    if (!name) {\n      return '';\n    }\n    const nl = name.split(' ');\n    var shotName = '';\n    nl.forEach((part) => {\n      if (part !== '') {\n        shotName += part.substring(0, 1);\n      }\n    });\n    return shotName;\n  };\n  return (\n    <View style={[styles.container, waitingPageConfig.backgroundColor ? {backgroundColor: waitingPageConfig.backgroundColor} : null, isVideoCall ? styles.opacity : null]}>\n      <View style={{position: 'absolute', width: '100%', height: '100%'}}>\n      {waitingPageConfig.backgroundBuilder \n        ? waitingPageConfig.backgroundBuilder(invitee, isVideoCall)\n        : null\n      }\n      </View>\n      <View style={styles.content}>\n        {isGroupCall ? <View /> :\n        (waitingPageConfig.avatarBuilder ? waitingPageConfig.avatarBuilder(invitee)\n        : <View style={styles.avatar}>\n          {\n            !avatarBuilder ?\n            <Text style={styles.nameLabel}>{getShortName(userName)}</Text> :\n            <View style={{ width: '100%', height: '100%', alignItems: 'center', justifyContent: 'center' }}>\n              <Delegate\n                to={avatarBuilder}\n                props={{ userInfo: invitee }}\n              />\n            </View>\n          }\n        </View>)}\n        { waitingPageConfig.nameBuilder ? waitingPageConfig.nameBuilder(userName) :\n          <Text style={styles.userName}>{\n            callName ? callName : InnerTextHelper.instance().getOutgoingCallPageTitle(userName, isVideoCall ? ZegoInvitationType.videoCall : ZegoInvitationType.voiceCall)\n          }</Text>\n        }\n        { waitingPageConfig.stateBuilder ? waitingPageConfig.stateBuilder() :\n          <Text style={styles.calling}>{\n            InnerTextHelper.instance().getOutgoingCallPageMessage(isVideoCall ? ZegoInvitationType.videoCall : ZegoInvitationType.voiceCall)\n          }</Text>\n        }\n      </View>\n      <ZegoBottomBar\n        menuBarButtons={[ZegoMenuBarButtonName.hangUpButton]}\n        onHangUp={onHangUp}\n        buttonBuilders={{hangupBuilder: waitingPageConfig.hangupBuilder}}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#333333',\n    zIndex: 2,\n  },\n  opacity: {\n    backgroundColor: 'transparent',\n  },\n  content: {\n    width: '100%',\n    zIndex: 2,\n    alignItems: 'center',\n    marginTop: 114,\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 1000,\n    backgroundColor: '#ffffff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 5,\n    overflow: 'hidden',\n  },\n  nameLabel: {\n    color: '#222222',\n    fontSize: 22,\n  },\n  userName: {\n    fontSize: 21,\n    lineHeight: 29.5,\n    marginBottom: 23.5,\n    color: '#ffffff',\n  },\n  calling: {\n    fontSize: 16,\n    lineHeight: 22.5,\n    color: '#ffffff',\n    opacity: 0.7,\n  },\n});\n"],"mappings":"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","ignoreList":[]}