{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_native","_reactDelegateComponent","_interopRequireDefault","_zegoUikitRn","_services","_logger","_report","_bell","_callevent_notify_app","_call_invite_helper","_defines","_inner_text_helper","_invite_state_manager","_notification_helper","_plugins","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ZegoCallInvitationDialog","props","TAG","initConfig","ZegoUIKitPrebuiltCallService","getInstance","getInitConfig","showDeclineButton","avatarBuilder","navigation","useNavigation","isInit","setIsInit","useState","isDialogVisable","setIsDialogVisable","isFullScreen","setIsFullScreen","inviteType","setInviteType","ZegoInvitationType","voiceCall","inviter","setInviter","extendData","setExtendData","callID","setCallID","zimCallIDRef","useRef","getDialogTitle","notificationTitle","length","call_name","count","invitees","InnerTextHelper","instance","getIncomingCallDialogTitle","name","getDialogMessage","notificationMessage","getIncomingCallDialogMessage","getShortName","nl","split","shotName","forEach","part","substring","getImageSourceByPath","videoCall","onRefuseCallback","CallEventNotifyApp","notifyEvent","refuseHandle","CallInviteHelper","refuseCall","refuseSuccHandle","zloginfo","PrebuiltCallReport","reportEvent","AppState","currentState","refuseFailHandle","error","code","message","onAcceptCallback","data","call_id","id","navigate","roomID","isVideoCall","type","acceptHandle","acceptCall","acceptFailHandle","pressHandle","useEffect","callbackID","String","Math","floor","random","onInit","onCallAccepted","onCallRefused","ZegoUIKit","getSignalingPlugin","onInvitationReceived","invitationID","JSON","stringify","onCall","CallInviteStateManage","isOncall","onRoom","isRoomConnected","offlineData","getOfflineData","dataParsed","parse","refuseInvitation","reason","userID","ZegoPrebuiltPlugins","getLocalUser","userName","updateInviteDataAfterRejected","currentData","map","invitee","user_id","user_name","custom_data","acceptInvitation","setOfflineData","undefined","NotificationHelper","showOnlineNotification","BellManage","vibrate","playIncomingSound","onInvitationTimeout","_zimCallID","dataInDataParsed","current","stopIncomingSound","cancleVirate","dismissNotification","onInvitationCanceled","createElement","View","style","styles","container","show","Modal","animationType","transparent","visible","modal","mask","TouchableOpacity","onPress","activeOpacity","dialog","left","avatar","Text","nameLabel","width","height","alignItems","justifyContent","to","userInfo","callInfo","callName","numberOfLines","ellipsizeMode","callTitle","right","refuse","ZegoRefuseInvitationButton","inviterID","onPressed","onFailure","accept","ZegoAcceptInvitationButton","icon","fullDialog","content","fullAvatar","fullNameLabel","fullCallName","calling","bottomBarContainer","fullRefuse","fullRefuseTitle","getInnerText","incomingCallPageDeclineButton","fullAccept","fullAcceptTitle","incomingCallPageAcceptButton","StyleSheet","create","flex","position","zIndex","top","bottom","backgroundColor","opacity","borderRadius","marginTop","flexDirection","paddingLeft","paddingRight","marginLeft","marginRight","color","overflow","fontSize","lineHeight","marginBottom"],"sources":["ZegoCallInvitationDialog.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { StyleSheet, View, Text, Modal, TouchableOpacity, AppState, Platform } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport Delegate from 'react-delegate-component';\n\nimport ZegoUIKit, {\n  ZegoAcceptInvitationButton,\n  ZegoRefuseInvitationButton,\n} from '@zegocloud/zego-uikit-rn';\n\nimport ZegoUIKitPrebuiltCallService from \"../../services\";\nimport { zloginfo } from '../../utils/logger';\nimport PrebuiltCallReport from '../../utils/report';\nimport BellManage from '../services/bell';\nimport CallEventNotifyApp from '../services/callevent_notify_app';\nimport CallInviteHelper from '../services/call_invite_helper'\nimport { ZegoInvitationType } from '../services/defines';\nimport InnerTextHelper from '../services/inner_text_helper'\nimport CallInviteStateManage from '../services/invite_state_manager';\nimport NotificationHelper from '../services/notification_helper';\nimport ZegoPrebuiltPlugins from '../services/plugins';\n\nexport default function ZegoCallInvitationDialog(props) {\n  const TAG = 'ZegoCallInvitationDialog';\n\n  const initConfig = ZegoUIKitPrebuiltCallService.getInstance().getInitConfig();\n  const { showDeclineButton = true, avatarBuilder } = initConfig;\n\n  const navigation = useNavigation();\n  const [isInit, setIsInit] = useState(false);\n  const [isDialogVisable, setIsDialogVisable] = useState(false);\n  const [isFullScreen, setIsFullScreen] = useState(false);\n  const [inviteType, setInviteType] = useState(ZegoInvitationType.voiceCall);\n  const [inviter, setInviter] = useState({});\n  const [extendData, setExtendData] = useState({});\n  const [callID, setCallID] = useState('');\n  const zimCallIDRef = useRef('');\n\n  const getDialogTitle = () => {\n    if (extendData.notificationTitle && extendData.notificationTitle.length > 0) {\n      return extendData.notificationTitle;\n    } else if (extendData.call_name && extendData.call_name.length > 0) {\n      return extendData.call_name;\n    } else {\n      const count = extendData.invitees ? extendData.invitees.length : 0;\n      return InnerTextHelper.instance().getIncomingCallDialogTitle(inviter.name, inviteType, count);\n    }\n  }\n  const getDialogMessage = () => {\n    if (extendData.notificationMessage && extendData.notificationMessage.length > 0) {\n      return extendData.notificationMessage;\n    } else {\n      const count = extendData.invitees ? extendData.invitees.length : 0;\n      return InnerTextHelper.instance().getIncomingCallDialogMessage(inviteType, count)\n    }\n  };\n  const getShortName = (name) => {\n    if (!name) {\n      return '';\n    }\n    const nl = name.split(' ');\n    var shotName = '';\n    nl.forEach((part) => {\n      if (part !== '') {\n        shotName += part.substring(0, 1);\n      }\n    });\n    return shotName;\n  };\n  const getImageSourceByPath = () => {\n    if (inviteType === ZegoInvitationType.videoCall) {\n      return require('../resources/button_call_video_accept.png');\n    }\n  };\n  const onRefuseCallback = () => {\n    CallEventNotifyApp.getInstance().notifyEvent('onIncomingCallDeclineButtonPressed', navigation)\n    setIsDialogVisable(false);\n    setIsFullScreen(false);\n  }\n  const refuseHandle = () => {\n    CallInviteHelper.getInstance().refuseCall(callID)\n  };\n  const refuseSuccHandle = () => {\n    zloginfo(`Refuse Call Invitation succ`);\n    refuseHandle();\n    PrebuiltCallReport.reportEvent('call/respondInvitation', {\n      'call_id': callID,\n      'app_state': AppState.currentState,\n      'action': 'refuseSucc'\n    })\n  };\n  const refuseFailHandle = (error) => {\n    zloginfo(`Refuse Call Invitation failed, code: ${error.code}, message: ${error.message}`);\n    refuseHandle();\n    PrebuiltCallReport.reportEvent('call/respondInvitation', {\n      'call_id': callID,\n      'app_state': AppState.currentState,\n      'action': 'refuseFail'\n    })\n  }\n  const onAcceptCallback = (data) => {\n    zloginfo(\"onAcceptCallback\", data.call_id, data.inviter.id)\n\n    CallEventNotifyApp.getInstance().notifyEvent('onIncomingCallAcceptButtonPressed', navigation)\n    setIsDialogVisable(false);\n    setIsFullScreen(false);\n\n    zloginfo('Navigate to ZegoUIKitPrebuiltCallInCallScreen')\n    navigation.navigate('ZegoUIKitPrebuiltCallInCallScreen', {\n      roomID: data.call_id,\n      isVideoCall: data.type === ZegoInvitationType.videoCall,\n      invitees: data.invitees,\n      inviter: data.inviter.id,\n    });\n  }\n  const acceptHandle = () => {\n    CallInviteHelper.getInstance().acceptCall(callID, {...extendData, inviteType, inviter});\n    PrebuiltCallReport.reportEvent('call/respondInvitation', {\n      'call_id': callID,\n      'app_state': AppState.currentState,\n      'action': 'acceptSucc'\n    })\n  };\n  const acceptFailHandle = (error) => {\n    zloginfo(`Accept Call Invitation failed, code: ${error.code}, message: ${error.message}`);\n    refuseHandle();\n    PrebuiltCallReport.reportEvent('call/respondInvitation', {\n      'call_id': callID,\n      'app_state': AppState.currentState,\n      'action': 'acceptFail'\n    })\n  }\n  const pressHandle = () => {\n    setIsFullScreen(true);\n  };\n  useEffect(() => {\n    const callbackID =\n      'ZegoCallInvitationDialog' + String(Math.floor(Math.random() * 10000));\n    ZegoUIKitPrebuiltCallService.getInstance().onInit(callbackID, () => {\n      setIsInit(true);\n    })\n    CallInviteHelper.getInstance().onCallAccepted(callbackID, onAcceptCallback);\n    CallInviteHelper.getInstance().onCallRefused(callbackID, onRefuseCallback);\n\n    return () => {\n      ZegoUIKitPrebuiltCallService.getInstance().onInit(callbackID);\n      CallInviteHelper.getInstance().onCallAccepted(callbackID);\n      CallInviteHelper.getInstance().onCallRefused(callbackID);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isInit) {\n      zloginfo('[ZegoCallInvitationDialog] Register callbacks after init');\n      const callbackID = 'ZegoCallInvitationDialog' + String(Math.floor(Math.random() * 10000));\n\n      ZegoUIKit.getSignalingPlugin().onInvitationReceived(callbackID, async ({ callID: invitationID, type, inviter, data }) => {\n          zloginfo(`onInvitationReceived implement by ${TAG}, callID: ${invitationID}, isVideoCall: ${type}, inviter: ${JSON.stringify(inviter)}, data: ${data}`);\n\n          let onCall = CallInviteStateManage.isOncall(invitationID);\n          const onRoom = ZegoUIKit.isRoomConnected();\n          const offlineData = CallInviteHelper.getInstance().getOfflineData();\n          zloginfo(`[ZegoCallInvitationDialog][onInvitationReceived] onCall: ${onCall}, onRoom: ${onRoom}, offlineData: ${offlineData}, currentState: ${AppState.currentState}`);\n\n          if (onCall || (!offlineData && onRoom)) {\n            zloginfo(`Automatically declining invitations, onCall: ${onCall}, onRoom: ${onRoom}`);\n\n            // Automatically declining invitations\n            const dataParsed = data ? JSON.parse(data) : {}\n            ZegoUIKit.getSignalingPlugin().refuseInvitation(\n              inviter.id,\n              JSON.stringify({\n                callID: invitationID,\n                reason: 'busy',\n                call_id: dataParsed.call_id,\n                'invitee': {userID: ZegoPrebuiltPlugins.getLocalUser().userID, userName: ZegoPrebuiltPlugins.getLocalUser().userName}\n              })\n            );\n            CallInviteStateManage.updateInviteDataAfterRejected(invitationID);\n          } else {\n            const currentData = JSON.parse(data);\n\n            CallEventNotifyApp.getInstance().notifyEvent('onIncomingCallReceived', \n              currentData.call_id, \n              { userID: currentData.inviter.id, userName: currentData.inviter.name },\n              currentData.type,\n              currentData.invitees.map((invitee) => {\n                return { userID: invitee.user_id, userName: invitee.user_name }\n              }),\n              currentData.custom_data\n            )\n\n            if (offlineData && offlineData.call_id === currentData.call_id && offlineData.inviter.id === currentData.inviter.id) {\n              zloginfo('[ZegoCallInvitationDialog][onInvitationReceived] received offline call')\n              CallInviteHelper.getInstance().acceptCall(invitationID, offlineData)\n              ZegoUIKit.getSignalingPlugin().acceptInvitation(inviter.id, JSON.stringify({\n                call_id: currentData.call_id,\n                'invitee': {userID: ZegoPrebuiltPlugins.getLocalUser().userID, userName: ZegoPrebuiltPlugins.getLocalUser().userName}\n              }))\n              CallInviteHelper.getInstance().setOfflineData(undefined)\n            } else if (AppState.currentState === 'background' || AppState.currentState === 'inactive') {\n              zloginfo('[ZegoCallInvitationDialog][onInvitationReceived] received background call')\n              NotificationHelper.getInstance().showOnlineNotification(invitationID, \n                { roomID: currentData.call_id, \n                type, \n                inviter, \n                invitees: currentData.invitees })\n            } else {\n              zloginfo(`[ZegoCallInvitationDialog][onInvitationReceived] received normal call, currentState: ${AppState.currentState}`)\n              setCallID(invitationID);\n              setInviteType(type);\n              setInviter(inviter);\n              setExtendData(JSON.parse(data));\n              setIsDialogVisable(true);\n              PrebuiltCallReport.reportEvent('call/displayNotification', {\n                'call_id': invitationID,\n                'app_state': AppState.currentState\n              })\n              BellManage.vibrate();\n              if (AppState.currentState !== 'background') {\n                BellManage.playIncomingSound();\n              }\n            }\n          }\n\n          zloginfo(`onInvitationReceived implement by ${TAG}, process done`);\n        },\n        TAG\n      );\n      ZegoUIKit.getSignalingPlugin().onInvitationTimeout(callbackID, ({callID: _zimCallID, data}) => {\n        zloginfo(`onInvitationTimeout implement by ${TAG}, callID: ${_zimCallID}, data: ${JSON.stringify(data)}`);\n\n        const dataParsed = data ? JSON.parse(data) : {}\n        const dataInDataParsed = dataParsed.data ? JSON.parse(dataParsed.data) : {}\n        CallEventNotifyApp.getInstance().notifyEvent('onIncomingCallTimeout',\n          dataInDataParsed.call_id,\n          dataParsed.inviter\n        )\n\n        if (_zimCallID === zimCallIDRef.current) {\n          BellManage.stopIncomingSound();\n          BellManage.cancleVirate();\n          setIsDialogVisable(false);\n          setIsFullScreen(false);\n        }\n        NotificationHelper.getInstance().dismissNotification(_zimCallID, 'Timeout', TAG)\n\n        zloginfo(`onInvitationTimeout implement by ${TAG}, process done`);\n      });\n      ZegoUIKit.getSignalingPlugin().onInvitationCanceled(callbackID, ({callID, inviter, data}) => {\n        zloginfo(`onInvitationCanceled implement by ${TAG}, callID: ${callID}, inviter: ${JSON.stringify(inviter)} data: ${data}`);\n\n        let dataParsed = JSON.parse(data)\n        if (ZegoPrebuiltPlugins.getLocalUser().userID != inviter.id) {\n          CallEventNotifyApp.getInstance().notifyEvent('onIncomingCallCanceled',\n            dataParsed.call_id,\n            dataParsed.inviter\n          )\n        }\n\n        if (callID === zimCallIDRef.current) {\n          BellManage.stopIncomingSound();\n          BellManage.cancleVirate();\n          setIsDialogVisable(false);\n          setIsFullScreen(false);\n        } \n        NotificationHelper.getInstance().dismissNotification(callID, 'BeCancelled', TAG)\n\n        zloginfo(`onInvitationCanceled implement by ${TAG}, process done`);\n      });\n\n      return () => {\n        ZegoUIKit.getSignalingPlugin().onInvitationReceived(callbackID);\n        ZegoUIKit.getSignalingPlugin().onInvitationTimeout(callbackID);\n        ZegoUIKit.getSignalingPlugin().onInvitationCanceled(callbackID);\n        BellManage.stopIncomingSound();\n        BellManage.cancleVirate();\n      };\n    }\n  }, [isInit]);\n\n  useEffect(() => {\n    zimCallIDRef.current = callID;\n  }, [callID]);\n\n  return (\n    <View style={[styles.container, isDialogVisable ? styles.show : null]}>\n      <Modal\n        animationType=\"fade\"\n        transparent={true}\n        visible={isDialogVisable}\n        style={styles.modal}\n      >\n        <View style={styles.mask} />\n        {!isFullScreen ? (\n          <TouchableOpacity onPress={pressHandle} activeOpacity={0.9}>\n            <View style={styles.dialog}>\n              <View style={styles.left}>\n                <View style={styles.avatar}>\n                  {\n                    !avatarBuilder ? \n                    <Text style={styles.nameLabel}>{getShortName(inviter.name)} </Text> :\n                    <View style={{ width: '100%', height: '100%', alignItems: 'center', justifyContent: 'center' }}>\n                      <Delegate\n                        to={avatarBuilder}\n                        props={{ userInfo: {userID: inviter.id, userName: inviter.name} }}\n                      />\n                    </View>\n                  }\n                </View>\n                <View style={styles.callInfo}>\n                  <Text style={styles.callName} numberOfLines={1} ellipsizeMode='tail'>{getDialogTitle()}</Text>\n                  <Text style={styles.callTitle}>{getDialogMessage()}</Text>\n                </View>\n              </View>\n              <View style={styles.right}>\n                {\n                  showDeclineButton ? <View style={styles.refuse}>\n                    <ZegoRefuseInvitationButton\n                      inviterID={inviter.id}\n                      onPressed={refuseSuccHandle}\n                      onFailure={refuseFailHandle}\n                      data={JSON.stringify({\n                        inviterID: inviter.id,\n                        reason: 'decline',\n                        callID,\n                        call_id: extendData.call_id,\n                        'invitee': {userID: ZegoPrebuiltPlugins.getLocalUser().userID, userName: ZegoPrebuiltPlugins.getLocalUser().userName}\n                      })}\n                    />\n                  </View> : null\n                }\n                <View style={styles.accept}>\n                  <ZegoAcceptInvitationButton\n                    icon={getImageSourceByPath()}\n                    inviterID={inviter.id}\n                    data={JSON.stringify({\n                      call_id: extendData.call_id,\n                      'invitee': {userID: ZegoPrebuiltPlugins.getLocalUser().userID, userName: ZegoPrebuiltPlugins.getLocalUser().userName}\n                    })}\n                    onPressed={acceptHandle}\n                    onFailure={acceptFailHandle}\n                  />\n                </View>\n              </View>\n            </View>\n          </TouchableOpacity>\n        ) : (\n          <View style={styles.fullDialog}>\n            <View style={styles.content}>\n              <View style={styles.fullAvatar}>\n                {\n                  !avatarBuilder ? \n                  <Text style={styles.fullNameLabel}>{getShortName(inviter.name)}</Text> :\n                  <View style={{ width: '100%', height: '100%', alignItems: 'center', justifyContent: 'center' }}>\n                      <Delegate\n                        to={avatarBuilder}\n                        props={{ userInfo: {userID: inviter.id, userName: inviter.name} }}\n                      />\n                    </View>\n                }\n              </View>\n              <Text style={styles.fullCallName}>{getDialogTitle()}</Text>\n              <Text style={styles.calling}>{getDialogMessage()}</Text>\n            </View>\n            <View style={styles.bottomBarContainer}>\n              {\n                showDeclineButton ? <View style={styles.fullRefuse}>\n                  <ZegoRefuseInvitationButton\n                    inviterID={inviter.id}\n                    onPressed={refuseSuccHandle}\n                    onFailure={refuseFailHandle}\n                    data={JSON.stringify({\n                      inviterID: inviter.id,\n                      reason: 'decline',\n                      callID,\n                      call_id: extendData.call_id,\n                      'invitee': {userID: ZegoPrebuiltPlugins.getLocalUser().userID, userName: ZegoPrebuiltPlugins.getLocalUser().userName}\n                    })}\n                  />\n                  <Text style={styles.fullRefuseTitle}>{InnerTextHelper.instance().getInnerText().incomingCallPageDeclineButton}</Text>\n                </View> : null\n              }\n\n              <View style={styles.fullAccept}>\n                <ZegoAcceptInvitationButton\n                  icon={getImageSourceByPath()}\n                  inviterID={inviter.id}\n                  data={JSON.stringify({\n                    call_id: extendData.call_id,\n                    'invitee': {userID: ZegoPrebuiltPlugins.getLocalUser().userID, userName: ZegoPrebuiltPlugins.getLocalUser().userName}\n                  })}\n                  onPressed={acceptHandle}\n                  onFailure={acceptFailHandle}\n                />\n                <Text style={styles.fullAcceptTitle}>{InnerTextHelper.instance().getInnerText().incomingCallPageAcceptButton}</Text>\n              </View>\n            </View>\n          </View>\n        )}\n      </Modal>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    position: 'absolute',\n    zIndex: 10000,\n    alignItems: 'center',\n  },\n  mask: {\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: '#333333',\n    opacity: 0.4,\n  },\n  dialog: {\n    height: 80,\n    backgroundColor: '#333333',\n    borderRadius: 8,\n    marginTop: 40,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    paddingLeft: 12,\n    paddingRight: 12,\n    marginLeft: 8,\n    marginRight: 8,\n  },\n  left: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    flex: 1,\n  },\n  avatar: {\n    backgroundColor: '#ffffff',\n    borderRadius: 1000,\n    color: '#2A2A2A',\n    width: 42,\n    height: 42,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 13,\n    overflow: 'hidden',\n  },\n  callInfo: {\n    flexDirection: 'column',\n    marginRight: 5,\n    flex: 1,\n  },\n  nameLabel: {\n    fontSize: 26,\n  },\n  callName: {\n    fontSize: 24,\n    color: '#ffffff',\n    lineHeight: 25,\n    marginBottom: 3.5,\n  },\n  callTitle: {\n    fontSize: 12,\n    color: '#ffffff',\n    opacity: 0.8,\n    lineHeight: 16.5,\n  },\n  right: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  refuse: {\n    marginRight: 20,\n  },\n  fullDialog: {\n    backgroundColor: '#333333',\n    width: '100%',\n    height: '100%',\n  },\n  content: {\n    width: '100%',\n    alignItems: 'center',\n    marginTop: 114,\n  },\n  fullAvatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 1000,\n    backgroundColor: '#ffffff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 5,\n    overflow: 'hidden',\n  },\n  fullNameLabel: {\n    color: '#222222',\n    fontSize: 22,\n  },\n  fullCallName: {\n    fontSize: 21,\n    lineHeight: 29.5,\n    marginBottom: 23.5,\n    color: '#ffffff',\n  },\n  calling: {\n    fontSize: 16,\n    lineHeight: 22.5,\n    color: '#ffffff',\n    opacity: 0.7,\n  },\n  bottomBarContainer: {\n    width: '100%',\n    position: 'absolute',\n    bottom: 100,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    paddingLeft: 30,\n    paddingRight: 30,\n  },\n  fullRefuse: {},\n  fullRefuseTitle: {\n    fontSize: 13,\n    opacity: 0.7,\n    color: '#FFFFFF',\n    lineHeight: 18.5,\n    marginTop: 7.5,\n  },\n  fullAccept: {},\n  fullAcceptTitle: {\n    fontSize: 13,\n    opacity: 0.7,\n    color: '#FFFFFF',\n    lineHeight: 18.5,\n    marginTop: 7.5,\n  },\n});\n"],"mappings":"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","ignoreList":[]}