{"version":3,"names":["_logger","require","_CallEventNotifyApp","_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","CallEventNotifyApp","constructor","getInstance","_instance","init","callbacks","eventCallbacks","onIncomingCallDeclineButtonPressed","onIncomingCallAcceptButtonPressed","onIncomingCallReceived","onIncomingCallCanceled","onIncomingCallTimeout","onOutgoingCallCancelButtonPressed","onOutgoingCallAccepted","onOutgoingCallRejectedCauseBusy","onOutgoingCallDeclined","onOutgoingCallTimeout","zloginfo","isFunction","callback","notifyEvent","event","params","exports","default"],"sources":["callevent_notify_app.ts"],"sourcesContent":["import { zloginfo } from \"../../utils/logger\"\n\nexport type CallNotifyEvent = 'onIncomingCallDeclineButtonPressed'\n    | 'onIncomingCallAcceptButtonPressed'\n    | 'onIncomingCallReceived'\n    | 'onIncomingCallCanceled'\n    | 'onIncomingCallTimeout'\n    | 'onOutgoingCallCancelButtonPressed'\n    | 'onOutgoingCallAccepted'\n    | 'onOutgoingCallRejectedCauseBusy'\n    | 'onOutgoingCallDeclined'\n    | 'onOutgoingCallTimeout';\n\nexport default class CallEventNotifyApp {\n    private static _instance: CallEventNotifyApp;\n    static getInstance() {\n        return this._instance || (this._instance = new CallEventNotifyApp());\n    }\n\n    // @ts-ignore\n    private eventCallbacks: Record<CallNotifyEvent, Function> = {}\n\n    init(callbacks: any) {\n        this.eventCallbacks['onIncomingCallDeclineButtonPressed'] = callbacks.onIncomingCallDeclineButtonPressed\n        this.eventCallbacks['onIncomingCallAcceptButtonPressed'] = callbacks.onIncomingCallAcceptButtonPressed\n        this.eventCallbacks['onIncomingCallReceived'] = callbacks.onIncomingCallReceived\n        this.eventCallbacks['onIncomingCallCanceled'] = callbacks.onIncomingCallCanceled\n        this.eventCallbacks['onIncomingCallTimeout'] = callbacks.onIncomingCallTimeout\n\n        this.eventCallbacks['onOutgoingCallCancelButtonPressed'] = callbacks.onOutgoingCallCancelButtonPressed\n        this.eventCallbacks['onOutgoingCallAccepted'] = callbacks.onOutgoingCallAccepted\n        this.eventCallbacks['onOutgoingCallRejectedCauseBusy'] = callbacks.onOutgoingCallRejectedCauseBusy\n        this.eventCallbacks['onOutgoingCallDeclined'] = callbacks.onOutgoingCallDeclined\n        this.eventCallbacks['onOutgoingCallTimeout'] = callbacks.onOutgoingCallTimeout\n\n        zloginfo(`[CallEventNotifyApp][init] succeed`)\n    }\n\n    isFunction(callback: any) {\n        return typeof callback === 'function'\n    }\n\n    notifyEvent(event: CallNotifyEvent, ...params: any[]) {\n        let callback = this.eventCallbacks[event]\n        if (!this.isFunction(callback)) {\n            zloginfo(`[CallEventNotifyApp][${event}] is not configured or the timing is too early`)\n            return\n        }\n\n        zloginfo(`[CallEventNotifyApp][${event}] notify will`)\n        callback(...params)\n        zloginfo(`[CallEventNotifyApp][${event}] notify succeed`)\n    }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,OAAA;AAA6C,IAAAC,mBAAA;AAAA,SAAAC,gBAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAE,cAAA,CAAAF,CAAA,MAAAD,CAAA,GAAAI,MAAA,CAAAC,cAAA,CAAAL,CAAA,EAAAC,CAAA,IAAAK,KAAA,EAAAJ,CAAA,EAAAK,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAAT,CAAA,CAAAC,CAAA,IAAAC,CAAA,EAAAF,CAAA;AAAA,SAAAG,eAAAD,CAAA,QAAAQ,CAAA,GAAAC,YAAA,CAAAT,CAAA,uCAAAQ,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAT,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAU,MAAA,CAAAC,WAAA,kBAAAb,CAAA,QAAAU,CAAA,GAAAV,CAAA,CAAAc,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAS,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAd,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA;AAa9B,MAAMgB,kBAAkB,CAAC;EAAAC,YAAA;IAMpC;IAAApB,eAAA,yBAC4D,CAAC,CAAC;EAAA;EAL9D,OAAOqB,WAAWA,CAAA,EAAG;IACjB,OAAO,IAAI,CAACC,SAAS,KAAK,IAAI,CAACA,SAAS,GAAG,IAAIH,kBAAkB,CAAC,CAAC,CAAC;EACxE;EAKAI,IAAIA,CAACC,SAAc,EAAE;IACjB,IAAI,CAACC,cAAc,CAAC,oCAAoC,CAAC,GAAGD,SAAS,CAACE,kCAAkC;IACxG,IAAI,CAACD,cAAc,CAAC,mCAAmC,CAAC,GAAGD,SAAS,CAACG,iCAAiC;IACtG,IAAI,CAACF,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACI,sBAAsB;IAChF,IAAI,CAACH,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACK,sBAAsB;IAChF,IAAI,CAACJ,cAAc,CAAC,uBAAuB,CAAC,GAAGD,SAAS,CAACM,qBAAqB;IAE9E,IAAI,CAACL,cAAc,CAAC,mCAAmC,CAAC,GAAGD,SAAS,CAACO,iCAAiC;IACtG,IAAI,CAACN,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACQ,sBAAsB;IAChF,IAAI,CAACP,cAAc,CAAC,iCAAiC,CAAC,GAAGD,SAAS,CAACS,+BAA+B;IAClG,IAAI,CAACR,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACU,sBAAsB;IAChF,IAAI,CAACT,cAAc,CAAC,uBAAuB,CAAC,GAAGD,SAAS,CAACW,qBAAqB;IAE9E,IAAAC,gBAAQ,EAAC,oCAAoC,CAAC;EAClD;EAEAC,UAAUA,CAACC,QAAa,EAAE;IACtB,OAAO,OAAOA,QAAQ,KAAK,UAAU;EACzC;EAEAC,WAAWA,CAACC,KAAsB,EAAE,GAAGC,MAAa,EAAE;IAClD,IAAIH,QAAQ,GAAG,IAAI,CAACb,cAAc,CAACe,KAAK,CAAC;IACzC,IAAI,CAAC,IAAI,CAACH,UAAU,CAACC,QAAQ,CAAC,EAAE;MAC5B,IAAAF,gBAAQ,EAAC,wBAAwBI,KAAK,gDAAgD,CAAC;MACvF;IACJ;IAEA,IAAAJ,gBAAQ,EAAC,wBAAwBI,KAAK,eAAe,CAAC;IACtDF,QAAQ,CAAC,GAAGG,MAAM,CAAC;IACnB,IAAAL,gBAAQ,EAAC,wBAAwBI,KAAK,kBAAkB,CAAC;EAC7D;AACJ;AAACE,OAAA,CAAAC,OAAA,GAAAxB,kBAAA;AAAApB,mBAAA,GAxCoBoB,kBAAkB;AAAAnB,eAAA,CAAlBmB,kBAAkB","ignoreList":[]}