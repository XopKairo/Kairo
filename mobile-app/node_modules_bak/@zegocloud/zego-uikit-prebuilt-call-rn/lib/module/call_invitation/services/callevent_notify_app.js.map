{"version":3,"names":["zloginfo","CallEventNotifyApp","constructor","_defineProperty","getInstance","_instance","init","callbacks","eventCallbacks","onIncomingCallDeclineButtonPressed","onIncomingCallAcceptButtonPressed","onIncomingCallReceived","onIncomingCallCanceled","onIncomingCallTimeout","onOutgoingCallCancelButtonPressed","onOutgoingCallAccepted","onOutgoingCallRejectedCauseBusy","onOutgoingCallDeclined","onOutgoingCallTimeout","isFunction","callback","notifyEvent","event","params","_CallEventNotifyApp"],"sources":["callevent_notify_app.ts"],"sourcesContent":["import { zloginfo } from \"../../utils/logger\"\n\nexport type CallNotifyEvent = 'onIncomingCallDeclineButtonPressed'\n    | 'onIncomingCallAcceptButtonPressed'\n    | 'onIncomingCallReceived'\n    | 'onIncomingCallCanceled'\n    | 'onIncomingCallTimeout'\n    | 'onOutgoingCallCancelButtonPressed'\n    | 'onOutgoingCallAccepted'\n    | 'onOutgoingCallRejectedCauseBusy'\n    | 'onOutgoingCallDeclined'\n    | 'onOutgoingCallTimeout';\n\nexport default class CallEventNotifyApp {\n    private static _instance: CallEventNotifyApp;\n    static getInstance() {\n        return this._instance || (this._instance = new CallEventNotifyApp());\n    }\n\n    // @ts-ignore\n    private eventCallbacks: Record<CallNotifyEvent, Function> = {}\n\n    init(callbacks: any) {\n        this.eventCallbacks['onIncomingCallDeclineButtonPressed'] = callbacks.onIncomingCallDeclineButtonPressed\n        this.eventCallbacks['onIncomingCallAcceptButtonPressed'] = callbacks.onIncomingCallAcceptButtonPressed\n        this.eventCallbacks['onIncomingCallReceived'] = callbacks.onIncomingCallReceived\n        this.eventCallbacks['onIncomingCallCanceled'] = callbacks.onIncomingCallCanceled\n        this.eventCallbacks['onIncomingCallTimeout'] = callbacks.onIncomingCallTimeout\n\n        this.eventCallbacks['onOutgoingCallCancelButtonPressed'] = callbacks.onOutgoingCallCancelButtonPressed\n        this.eventCallbacks['onOutgoingCallAccepted'] = callbacks.onOutgoingCallAccepted\n        this.eventCallbacks['onOutgoingCallRejectedCauseBusy'] = callbacks.onOutgoingCallRejectedCauseBusy\n        this.eventCallbacks['onOutgoingCallDeclined'] = callbacks.onOutgoingCallDeclined\n        this.eventCallbacks['onOutgoingCallTimeout'] = callbacks.onOutgoingCallTimeout\n\n        zloginfo(`[CallEventNotifyApp][init] succeed`)\n    }\n\n    isFunction(callback: any) {\n        return typeof callback === 'function'\n    }\n\n    notifyEvent(event: CallNotifyEvent, ...params: any[]) {\n        let callback = this.eventCallbacks[event]\n        if (!this.isFunction(callback)) {\n            zloginfo(`[CallEventNotifyApp][${event}] is not configured or the timing is too early`)\n            return\n        }\n\n        zloginfo(`[CallEventNotifyApp][${event}] notify will`)\n        callback(...params)\n        zloginfo(`[CallEventNotifyApp][${event}] notify succeed`)\n    }\n}\n"],"mappings":";;;;AAAA,SAASA,QAAQ,QAAQ,oBAAoB;AAa7C,eAAe,MAAMC,kBAAkB,CAAC;EAAAC,YAAA;IAMpC;IAAAC,eAAA,yBAC4D,CAAC,CAAC;EAAA;EAL9D,OAAOC,WAAWA,CAAA,EAAG;IACjB,OAAO,IAAI,CAACC,SAAS,KAAK,IAAI,CAACA,SAAS,GAAG,IAAIJ,kBAAkB,CAAC,CAAC,CAAC;EACxE;EAKAK,IAAIA,CAACC,SAAc,EAAE;IACjB,IAAI,CAACC,cAAc,CAAC,oCAAoC,CAAC,GAAGD,SAAS,CAACE,kCAAkC;IACxG,IAAI,CAACD,cAAc,CAAC,mCAAmC,CAAC,GAAGD,SAAS,CAACG,iCAAiC;IACtG,IAAI,CAACF,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACI,sBAAsB;IAChF,IAAI,CAACH,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACK,sBAAsB;IAChF,IAAI,CAACJ,cAAc,CAAC,uBAAuB,CAAC,GAAGD,SAAS,CAACM,qBAAqB;IAE9E,IAAI,CAACL,cAAc,CAAC,mCAAmC,CAAC,GAAGD,SAAS,CAACO,iCAAiC;IACtG,IAAI,CAACN,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACQ,sBAAsB;IAChF,IAAI,CAACP,cAAc,CAAC,iCAAiC,CAAC,GAAGD,SAAS,CAACS,+BAA+B;IAClG,IAAI,CAACR,cAAc,CAAC,wBAAwB,CAAC,GAAGD,SAAS,CAACU,sBAAsB;IAChF,IAAI,CAACT,cAAc,CAAC,uBAAuB,CAAC,GAAGD,SAAS,CAACW,qBAAqB;IAE9ElB,QAAQ,CAAC,oCAAoC,CAAC;EAClD;EAEAmB,UAAUA,CAACC,QAAa,EAAE;IACtB,OAAO,OAAOA,QAAQ,KAAK,UAAU;EACzC;EAEAC,WAAWA,CAACC,KAAsB,EAAE,GAAGC,MAAa,EAAE;IAClD,IAAIH,QAAQ,GAAG,IAAI,CAACZ,cAAc,CAACc,KAAK,CAAC;IACzC,IAAI,CAAC,IAAI,CAACH,UAAU,CAACC,QAAQ,CAAC,EAAE;MAC5BpB,QAAQ,CAAC,wBAAwBsB,KAAK,gDAAgD,CAAC;MACvF;IACJ;IAEAtB,QAAQ,CAAC,wBAAwBsB,KAAK,eAAe,CAAC;IACtDF,QAAQ,CAAC,GAAGG,MAAM,CAAC;IACnBvB,QAAQ,CAAC,wBAAwBsB,KAAK,kBAAkB,CAAC;EAC7D;AACJ;AAACE,mBAAA,GAxCoBvB,kBAAkB;AAAAE,eAAA,CAAlBF,kBAAkB","ignoreList":[]}