{"version":3,"names":["React","useEffect","AppState","useNavigation","ZegoUIKit","ZegoUIKitPrebuiltCall","MinimizingHelper","PrebuiltHelper","ZegoUIKitPrebuiltCallService","ONE_ON_ONE_VIDEO_CALL_CONFIG","ONE_ON_ONE_VOICE_CALL_CONFIG","GROUP_VIDEO_CALL_CONFIG","GROUP_VOICE_CALL_CONFIG","ZegoCallEndReason","TimingHelper","zloginfo","BellManage","ZegoInvitationType","HangupHelper","CallInviteStateManage","NotificationHelper","ZegoPrebuiltPlugins","ZegoUIKitPrebuiltCallInCallScreen","props","navigation","appID","appSign","getInstance","getInitAppInfo","userID","userName","getInitUser","initConfig","getInitConfig","requireConfig","avatarBuilder","requireInviterConfig","route","isMinimizeSwitch","getIsMinimizeSwitch","JSON","stringify","params","routeParams","getRouteParams","origin","roomID","isVideoCall","invitees","inviter","invitationID","useFrontFacingCamera","resetDuration","isUsingFrontFacingCamera","callInvitationData","type","videoCall","voiceCall","callID","requireDefaultConfig","data","callConfig","length","config","onCallEnd","_config$timingConfig","onDurationUpdate","timingConfig","_onCallEnd","reason","duration","localHangUp","hangUpHandle","callEndHandle","isMinimize","getIsMinimize","notifyDestroyPrebuilt","goBack","clearAutoHangUpTimer","currentState","currentInCallID","getCurrentInCallID","hangUp","isAutoCancelInvite","getSignalingPlugin","cancelInvitation","getLocalUser","updateInviteDataAfterCancel","hangUpTimer","startAutoHangUpTimer","detectSeconds","clearTimeout","newTimer","setTimeout","getDuration","callbackID","String","Math","floor","random","playOutgoingSound","onSomeoneAcceptedInvite","stopOutgoingSound","onInviteCompletedWithNobody","onAutoJump","unsubscribe1","addListener","unsubscribe2","unsubscribe3","initInviteData","createElement","onJoinRoom","enabled","onHangUpConfirmation","undefined","onUserJoin","userInfoList","foundInviterJoin","some","userInfo","_"],"sources":["ZegoCallInvitationRoom.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { AppState } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\n\nimport ZegoUIKit from '@zegocloud/zego-uikit-rn';\n\nimport ZegoUIKitPrebuiltCall from '../../call';\nimport MinimizingHelper from \"../../call/services/minimizing_helper\";\nimport PrebuiltHelper from \"../../call/services/prebuilt_helper\";\nimport ZegoUIKitPrebuiltCallService from '../../services';\nimport {\n  ONE_ON_ONE_VIDEO_CALL_CONFIG,\n  ONE_ON_ONE_VOICE_CALL_CONFIG,\n  GROUP_VIDEO_CALL_CONFIG,\n  GROUP_VOICE_CALL_CONFIG,\n  ZegoCallEndReason,\n} from '../../services/defines';\nimport TimingHelper from '../../services/timing_helper';\nimport { zloginfo } from '../../utils/logger';\nimport BellManage from '../services/bell';\nimport { ZegoInvitationType } from '../services/defines';\nimport HangupHelper from '../services/hangup_helper';\nimport CallInviteStateManage from '../services/invite_state_manager';\nimport NotificationHelper from '../services/notification_helper';\nimport ZegoPrebuiltPlugins from '../services/plugins';\n\nexport default function ZegoUIKitPrebuiltCallInCallScreen(props) {\n  const navigation = useNavigation();\n  const { appID, appSign } = ZegoUIKitPrebuiltCallService.getInstance().getInitAppInfo();\n  const { userID, userName } = ZegoUIKitPrebuiltCallService.getInstance().getInitUser();\n  const initConfig = ZegoUIKitPrebuiltCallService.getInstance().getInitConfig();\n  const { requireConfig, avatarBuilder, requireInviterConfig } = initConfig;\n  const { route } = props;\n\n  const isMinimizeSwitch = MinimizingHelper.getInstance().getIsMinimizeSwitch();\n  zloginfo(`#####ZegoUIKitPrebuiltCallInCallScreen####### isMinimizeSwitch: ${isMinimizeSwitch}, route.params: ${JSON.stringify(route.params)}`);\n  let routeParams = PrebuiltHelper.getInstance().getRouteParams();\n  if (!isMinimizeSwitch) {\n    routeParams.origin = route.params.origin;\n    routeParams.roomID = route.params.roomID;\n    routeParams.isVideoCall = route.params.isVideoCall;\n    routeParams.invitees = route.params.invitees;\n    routeParams.inviter = route.params.inviter;\n    routeParams.invitationID = route.params.invitationID;\n    routeParams.useFrontFacingCamera = route.params.useFrontFacingCamera;\n    TimingHelper.getInstance().resetDuration()\n  } else {\n    routeParams.useFrontFacingCamera = ZegoUIKit.isUsingFrontFacingCamera();\n  }\n  zloginfo(`#####ZegoUIKitPrebuiltCallInCallScreen####### routeParams: ${JSON.stringify(routeParams)}`);\n\n  const {\n    origin,\n    roomID,\n    isVideoCall,\n    invitees,\n    inviter,\n    invitationID,\n    useFrontFacingCamera\n  } = routeParams;\n  const callInvitationData = {\n    type: isVideoCall\n      ? ZegoInvitationType.videoCall\n      : ZegoInvitationType.voiceCall,\n    invitees,\n    callID: roomID,\n  };\n  const requireDefaultConfig = (data) => {\n    const callConfig =\n      data.invitees.length > 1\n        ? ZegoInvitationType.videoCall === data.type\n          ? GROUP_VIDEO_CALL_CONFIG\n          : GROUP_VOICE_CALL_CONFIG\n        : ZegoInvitationType.videoCall === data.type\n          ? ONE_ON_ONE_VIDEO_CALL_CONFIG\n          : ONE_ON_ONE_VOICE_CALL_CONFIG;\n    return {\n      ...callConfig,\n    };\n  };\n  const config = typeof requireConfig === 'function' ? {\n    ...requireDefaultConfig(callInvitationData),\n    ...requireConfig(callInvitationData),\n    requireInviterConfig\n  } : requireDefaultConfig(callInvitationData);\n\n  // Store requireConfig.onCallEnd in PrebuiltHelper.routeParams, so FloatingMinimizedView can call it before notifyDestroyPrebuilt\n  if (!isMinimizeSwitch && !routeParams.onCallEnd) {\n    routeParams.onCallEnd = config.onCallEnd\n    routeParams.onDurationUpdate = config.timingConfig?.onDurationUpdate\n  }\n\n  const _onCallEnd = (roomID, reason, duration) => {\n    // reason 0-localHangUp, 1-remoteHangUp, 2-kickOut\n    zloginfo(`[ZegoUIKitPrebuiltCallInCallScreen][_onCallEnd], roomID: ${roomID}, reason: ${reason}, duration: ${duration}`);\n    if (reason === ZegoCallEndReason.localHangUp) {\n      hangUpHandle();\n    } else {\n      callEndHandle();\n    }\n\n    // callback.\n    if (typeof config.onCallEnd == 'function') {\n      zloginfo('[ZegoUIKitPrebuiltCallInCallScreen][_onCallEnd] notify requireConfig.onCallEnd will')\n      config.onCallEnd(roomID, reason, duration);\n      zloginfo('[ZegoUIKitPrebuiltCallInCallScreen][_onCallEnd] notify requireConfig.onCallEnd succeed')\n    } else {\n      const isMinimize = MinimizingHelper.getInstance().getIsMinimize();\n      if (isMinimize) {\n        PrebuiltHelper.getInstance().notifyDestroyPrebuilt();\n      } else {\n        navigation.goBack();\n        origin === 'ZegoUIKitPrebuiltCallWaitingScreen' && navigation.goBack();\n      }\n    }\n    \n    clearAutoHangUpTimer();\n\n    zloginfo('[ZegoUIKitPrebuiltCallInCallScreen][_onCallEnd] process done');\n  };\n\n  const callEndHandle = () => {\n    if (AppState.currentState === 'background') {\n      let currentInCallID = NotificationHelper.getInstance().getCurrentInCallID()\n      if (currentInCallID) {\n        NotificationHelper.getInstance().hangUp(currentInCallID, 'other')\n      }\n    }\n  };\n\n  const hangUpHandle = () => {\n    callEndHandle();\n    // Determine if the current is Inviter\n    if (\n      inviter === userID &&\n      CallInviteStateManage.isAutoCancelInvite(invitationID)\n    ) {\n      ZegoUIKit.getSignalingPlugin().cancelInvitation(invitees, JSON.stringify({\n        \"call_id\": roomID, \n        \"operation_type\": \"cancel_invitation\",\n        'inviter': {userID: ZegoPrebuiltPlugins.getLocalUser().userID, userName: ZegoPrebuiltPlugins.getLocalUser().userName}\n      }));\n      CallInviteStateManage.updateInviteDataAfterCancel(invitationID);\n    }\n  };\n\n  let hangUpTimer = null;\n  const startAutoHangUpTimer = (detectSeconds) => {\n    if (hangUpTimer) {\n      clearTimeout(hangUpTimer);\n    }\n\n    zloginfo(`[ZegoUIKitPrebuiltCallInCallScreen] startAutoHangUpTimer, will auto hangup after ${detectSeconds} seconds if inviter does not join this call.`);\n    const newTimer = setTimeout(() => {\n      zloginfo('[ZegoUIKitPrebuiltCallInCallScreen] autoHangUp');\n      const duration = TimingHelper.getInstance().getDuration();\n      _onCallEnd(roomID, ZegoCallEndReason.localHangUp, duration);\n    }, detectSeconds * 1000);\n\n    hangUpTimer = newTimer;\n  };\n\n  const clearAutoHangUpTimer = () => {\n    if (hangUpTimer) {\n      zloginfo('[ZegoUIKitPrebuiltCallInCallScreen] clearAutoHangUpTimer');\n      clearTimeout(hangUpTimer);\n      hangUpTimer = null;\n    }\n  };\n\n  useEffect(() => {\n    zloginfo(`ZegoUIKitPrebuiltCallInCallScreen useEffect`);\n\n    const callbackID =\n      'ZegoUIKitPrebuiltCallInCallScreen ' + String(Math.floor(Math.random() * 10000));\n    \n    // if group call from `ZegoUIKitPrebuiltCallWaitingScreen`, don't need add this anymore.\n    if (invitees.length > 1 && inviter === userID && origin != 'ZegoUIKitPrebuiltCallWaitingScreen') {\n      BellManage.playOutgoingSound();\n      CallInviteStateManage.onSomeoneAcceptedInvite(callbackID, () => {\n        zloginfo('Someone accepted the invitation');\n        BellManage.stopOutgoingSound();\n      });\n      CallInviteStateManage.onInviteCompletedWithNobody(callbackID, () => {\n        zloginfo('Invite completed with nobody');\n        // navigation.navigate('ZegoInnerChildrenPage');\n        // just go back, don't need call `onCallEnd`.\n        navigation.goBack();\n        origin === 'ZegoUIKitPrebuiltCallWaitingScreen' && invitees.length === 1 && navigation.goBack();\n      });\n    }\n    HangupHelper.getInstance().onAutoJump(callbackID, () => {\n      zloginfo('########onAutoJump#########', origin, invitees.length);\n      hangUpHandle();\n\n      navigation.goBack();\n      origin === 'ZegoUIKitPrebuiltCallWaitingScreen' && invitees.length === 1 && navigation.goBack();\n    });\n\n    const unsubscribe1 = navigation.addListener('blur', () => {  \n      zloginfo('[Navigation] ZegoUIKitPrebuiltCallInCallScreen, blur');\n    })\n    const unsubscribe2 = navigation.addListener('focus', () => {  \n      zloginfo('[Navigation] ZegoUIKitPrebuiltCallInCallScreen, focus');\n    })\n    const unsubscribe3 = navigation.addListener('beforeRemove', () => {  \n      zloginfo('[Navigation] ZegoUIKitPrebuiltCallInCallScreen, beforeRemove');\n    })\n\n    return () => {\n      zloginfo('ZegoUIKitPrebuiltCallInCallScreen useEffect return');\n\n      HangupHelper.getInstance().onAutoJump(callbackID);\n      CallInviteStateManage.onSomeoneAcceptedInvite(callbackID);\n      CallInviteStateManage.onInviteCompletedWithNobody(callbackID);\n      BellManage.stopOutgoingSound();\n      CallInviteStateManage.initInviteData();\n      unsubscribe1();\n      unsubscribe2();\n      unsubscribe3();\n    };\n  }, []);\n\n  return (\n    <ZegoUIKitPrebuiltCall\n      appID={appID}\n      appSign={appSign}\n      userID={userID}\n      userName={userName}\n      callID={roomID}\n      config={{\n        ...config,\n        useFrontFacingCamera,\n        onJoinRoom: () => {\n          zloginfo('[ZegoUIKitPrebuiltCallInCallScreen] onJoinRoom');\n          // If I am not the person who initiated the call, then set a timer to hang up according to the configuration settings\n          if (userID !== inviter) {\n            if (typeof config.requireInviterConfig == 'object' \n              && config.requireInviterConfig.enabled && config.requireInviterConfig.detectSeconds > 0) {\n                startAutoHangUpTimer(config.requireInviterConfig.detectSeconds);\n              }\n          }\n        },\n        onCallEnd: (callID, reason, duration) => {\n          _onCallEnd(callID, reason, duration)\n        },\n        avatarBuilder: avatarBuilder,\n        onHangUpConfirmation: (typeof config.onHangUpConfirmation === 'function') ? () => {return config.onHangUpConfirmation()} : undefined,\n        onUserJoin: (userInfoList) => {\n          const foundInviterJoin = userInfoList.some((userInfo, _) => {\n            if (inviter === userInfo.userID) {\n              return true;\n            }\n            return false;\n          });\n\n          if (foundInviterJoin) {\n            zloginfo('[ZegoUIKitPrebuiltCallInCallScreen] found inviter joined room, will clearAutoHangUpTimer');\n            clearAutoHangUpTimer();\n          }\n        },\n      }}\n    />\n  );\n}\n"],"mappings":"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","ignoreList":[]}