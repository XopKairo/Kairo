{"version":3,"names":["React","View","Text","TouchableOpacity","StyleSheet","ZegoBottomBar","ZegoMenuBarButtonName","ZegoInvitationType","InnerTextHelper","Delegate","ZegoCallInvationForeground","props","isVideoCall","invitee","onHangUp","avatarBuilder","waitingPageConfig","callName","isGroupCall","userName","getShortName","name","nl","split","shotName","forEach","part","substring","createElement","style","styles","container","backgroundColor","opacity","position","width","height","backgroundBuilder","content","avatar","nameLabel","alignItems","justifyContent","to","userInfo","nameBuilder","instance","getOutgoingCallPageTitle","videoCall","voiceCall","stateBuilder","calling","getOutgoingCallPageMessage","menuBarButtons","hangUpButton","buttonBuilders","hangupBuilder","create","flex","zIndex","marginTop","borderRadius","marginBottom","overflow","color","fontSize","lineHeight"],"sources":["ZegoCallInvationForeground.js"],"sourcesContent":["import React from 'react';\nimport { View, Text, TouchableOpacity, StyleSheet } from 'react-native';\nimport ZegoBottomBar from '../../call/ZegoBottomBar';\nimport ZegoMenuBarButtonName from '../../call/ZegoMenuBarButtonName';\nimport { ZegoInvitationType } from '../services/defines';\nimport InnerTextHelper from '../services/inner_text_helper';\nimport Delegate from 'react-delegate-component';\n\nexport default function ZegoCallInvationForeground(props) {\n  const { \n    isVideoCall, \n    invitee, \n    onHangUp, \n    avatarBuilder, \n    waitingPageConfig,\n    callName,\n    isGroupCall,\n  } = props;\n  const userName = invitee.userName;\n\n  const getShortName = (name) => {\n    if (!name) {\n      return '';\n    }\n    const nl = name.split(' ');\n    var shotName = '';\n    nl.forEach((part) => {\n      if (part !== '') {\n        shotName += part.substring(0, 1);\n      }\n    });\n    return shotName;\n  };\n  return (\n    <View style={[styles.container, waitingPageConfig.backgroundColor ? {backgroundColor: waitingPageConfig.backgroundColor} : null, isVideoCall ? styles.opacity : null]}>\n      <View style={{position: 'absolute', width: '100%', height: '100%'}}>\n      {waitingPageConfig.backgroundBuilder \n        ? waitingPageConfig.backgroundBuilder(invitee, isVideoCall)\n        : null\n      }\n      </View>\n      <View style={styles.content}>\n        {isGroupCall ? <View /> :\n        (waitingPageConfig.avatarBuilder ? waitingPageConfig.avatarBuilder(invitee)\n        : <View style={styles.avatar}>\n          {\n            !avatarBuilder ?\n            <Text style={styles.nameLabel}>{getShortName(userName)}</Text> :\n            <View style={{ width: '100%', height: '100%', alignItems: 'center', justifyContent: 'center' }}>\n              <Delegate\n                to={avatarBuilder}\n                props={{ userInfo: invitee }}\n              />\n            </View>\n          }\n        </View>)}\n        { waitingPageConfig.nameBuilder ? waitingPageConfig.nameBuilder(userName) :\n          <Text style={styles.userName}>{\n            callName ? callName : InnerTextHelper.instance().getOutgoingCallPageTitle(userName, isVideoCall ? ZegoInvitationType.videoCall : ZegoInvitationType.voiceCall)\n          }</Text>\n        }\n        { waitingPageConfig.stateBuilder ? waitingPageConfig.stateBuilder() :\n          <Text style={styles.calling}>{\n            InnerTextHelper.instance().getOutgoingCallPageMessage(isVideoCall ? ZegoInvitationType.videoCall : ZegoInvitationType.voiceCall)\n          }</Text>\n        }\n      </View>\n      <ZegoBottomBar\n        menuBarButtons={[ZegoMenuBarButtonName.hangUpButton]}\n        onHangUp={onHangUp}\n        buttonBuilders={{hangupBuilder: waitingPageConfig.hangupBuilder}}\n      />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#333333',\n    zIndex: 2,\n  },\n  opacity: {\n    backgroundColor: 'transparent',\n  },\n  content: {\n    width: '100%',\n    zIndex: 2,\n    alignItems: 'center',\n    marginTop: 114,\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    borderRadius: 1000,\n    backgroundColor: '#ffffff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    marginBottom: 5,\n    overflow: 'hidden',\n  },\n  nameLabel: {\n    color: '#222222',\n    fontSize: 22,\n  },\n  userName: {\n    fontSize: 21,\n    lineHeight: 29.5,\n    marginBottom: 23.5,\n    color: '#ffffff',\n  },\n  calling: {\n    fontSize: 16,\n    lineHeight: 22.5,\n    color: '#ffffff',\n    opacity: 0.7,\n  },\n});\n"],"mappings":"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","ignoreList":[]}