{"version":3,"names":["BackgroundTimer","Timer","constructor","callback","interval","startTime","requestId","isRunning","count","lastElapsed","averageElapsed","start","Date","now","tick","setInterval","stop","clearInterval","elapsed","deltaElapsed","getLocalDateFormat","addLeadingZero","value","totalDigits","stringValue","toString","padding","repeat","length","month","getMonth","day","getDate","hours","getHours","minutes","getMinutes","seconds","getSeconds","milliseconds","getMilliseconds","formattedDateTime"],"sources":["timer.js"],"sourcesContent":["import BackgroundTimer from \"./background_timer\";\n\nexport default class Timer {\n    constructor(callback, interval) {\n        this.callback = callback;\n        this.interval = interval;\n        this.startTime = null;\n        this.requestId = null;\n        this.isRunning = false;\n        this.count = 0;\n        this.lastElapsed = 0;\n        this.averageElapsed = 0;\n    }\n    start() {\n        if (!this.isRunning) {\n            this.isRunning = true;\n            this.startTime = Date.now();\n            this.tick(); // Call tick method to start the timer\n            \n            this.requestId = BackgroundTimer.setInterval(() => {\n              this.tick();\n            }, 100);\n        }\n    }\n    stop() {\n        if (this.isRunning) {\n            this.isRunning = false;\n\n            // cancelAnimationFrame(this.requestId);\n            BackgroundTimer.clearInterval(this.requestId);\n        }\n    }\n    tick() {\n        const elapsed = Date.now() - this.startTime;\n        const deltaElapsed = elapsed - this.lastElapsed;\n        this.lastElapsed = elapsed;\n        this.averageElapsed = (this.averageElapsed * this.count + deltaElapsed) / (this.count + 1);\n        this.count++;\n        if ((elapsed + this.averageElapsed / 2) >= this.interval) {\n            this.callback(elapsed);\n            this.startTime = Date.now();\n            this.count = 0;\n            this.lastElapsed = 0;\n            this.averageElapsed = 0;\n        }\n        // this.requestId = requestAnimationFrame(this.tick.bind(this));\n    }\n}\n\nexport const getLocalDateFormat = () => {\n    function addLeadingZero(value, totalDigits = 2) {\n        const stringValue = value.toString();\n        const padding = '0'.repeat(totalDigits - stringValue.length);\n        return padding + stringValue;\n      }\n    \n      const now = new Date();\n      const month = addLeadingZero(now.getMonth() + 1);\n      const day = addLeadingZero(now.getDate());\n      const hours = addLeadingZero(now.getHours());\n      const minutes = addLeadingZero(now.getMinutes());\n      const seconds = addLeadingZero(now.getSeconds());\n      const milliseconds = addLeadingZero(now.getMilliseconds(), 4);\n      const formattedDateTime = `${month}${day} ${hours}:${minutes}:${seconds}.${milliseconds}`;\n\n      return formattedDateTime\n}\n"],"mappings":"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","ignoreList":[]}