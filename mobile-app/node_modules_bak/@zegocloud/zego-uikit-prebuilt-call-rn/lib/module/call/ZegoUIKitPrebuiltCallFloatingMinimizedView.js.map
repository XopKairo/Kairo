{"version":3,"names":["React","useEffect","useState","useCallback","Animated","PanResponder","StyleSheet","useWindowDimensions","View","ZegoUIKit","ZegoAudioVideoView","ZegoCallEndReason","TimingHelper","zloginfo","MinimizingHelper","PrebuiltHelper","ZegoUIKitPrebuiltCallFloatingMinimizedView","props","window","width","height","borderRadius","left","top","showSoundWaveInAudioMode","useVideoViewAspectFill","isInit","setIsInit","isVisable","setIsVisable","layout","setLayout","floatViewInfo","setFloatViewInfo","activeUserID","setActiveUserID","isMoving","setIsMoving","panResponder","create","onStartShouldSetPanResponder","evt","gestureState","onMoveShouldSetPanResponder","onPanResponderGrant","onPanResponderMove","Math","abs","dx","dy","newLeft","newTop","onPanResponderEnd","onPanResponderRelease","pressedHandle","callbackID","String","floor","random","layoutHandle","e","x","y","nativeEvent","getInstance","notifyMaximize","onPrebuiltInit","onDurationUpdate","duration","isMinimize","getIsMinimize","routeParams","getRouteParams","onWindowMinimized","initConfig","getInitConfig","setIsMinimizeSwitch","setTimeout","forceRenderVideoView","onWindowMaximized","Object","keys","length","onEntryNormal","onActiveUserIDUpdate","onOnlySelfInRoom","getDuration","onCallEnd","roomID","remoteHangUp","notifyDestroyPrebuilt","onMeRemovedFromRoom","kickOut","createElement","_extends","style","position","display","onLayout","panHandlers","styles","floatAudioView","key","userID","showSoundWave","overflow","zIndex","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation"],"sources":["ZegoUIKitPrebuiltCallFloatingMinimizedView.tsx"],"sourcesContent":["import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport {\n    Animated,\n    LayoutChangeEvent,\n    PanResponder,\n    StyleSheet,\n    useWindowDimensions,\n    View,\n} from 'react-native';\n\nimport ZegoUIKit, { ZegoAudioVideoView } from '@zegocloud/zego-uikit-rn';\n\nimport { ZegoCallEndReason } from '../services/defines';\nimport TimingHelper from '../services/timing_helper';\nimport { zloginfo } from \"../utils/logger\";\nimport MinimizingHelper from \"./services/minimizing_helper\";\nimport PrebuiltHelper from './services/prebuilt_helper';\n\nexport default function ZegoUIKitPrebuiltCallFloatingMinimizedView(props: any) {\n    const window = useWindowDimensions();\n    const {\n        width = 90,\n        height = 160,\n        borderRadius = 10,\n        left = window.width / 2 || 100,\n        top = 10,\n        showSoundWaveInAudioMode = true,\n        useVideoViewAspectFill = true,\n    } = props;\n    const [isInit, setIsInit] = useState(false);\n    const [isVisable, setIsVisable] = useState(false);\n    const [layout, setLayout] = useState({\n        left,\n        top,\n    });\n    const [floatViewInfo, setFloatViewInfo] = useState({\n        width: 0, height: 0,\n    });\n    const [activeUserID, setActiveUserID] = useState('');\n    const [isMoving, setIsMoving] = useState(false);\n\n    const panResponder = PanResponder.create({\n        onStartShouldSetPanResponder: (evt, gestureState) => true,\n        onMoveShouldSetPanResponder: (evt, gestureState) => true,\n        onPanResponderGrant: (evt, gestureState) => {\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView] onPanResponderGrant gestureState', gestureState);\n            setIsMoving(false);\n        },\n        onPanResponderMove: (evt, gestureState) => {\n            // zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView] onPanResponderMove layout', layout);\n            // zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView] onPanResponderMove gestureState', gestureState);\n            if (\n                Math.abs(gestureState.dx) < 5 &&\n                Math.abs(gestureState.dy) < 5 &&\n                !isMoving\n            ) {\n                setIsMoving(false);\n            } else {\n                setIsMoving(true);\n                const newLeft = layout.left + gestureState.dx;\n                const newTop = layout.top + gestureState.dy;\n                if (newLeft >= (window.width - floatViewInfo.width) || newTop >= (window.height - floatViewInfo.height) || newLeft <= 0 || newTop <= 0) return;\n                setLayout({\n                    left: newLeft,\n                    top: newTop,\n                });\n            }\n        },\n        onPanResponderEnd: (evt, gestureState) => {\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView] onPanResponderEnd layout', layout);\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView] onPanResponderEnd gestureState', gestureState);\n        },\n        onPanResponderRelease: () => {\n            if (!isMoving) {\n                // Click\n                pressedHandle();\n            }\n            setIsMoving(false);\n        },\n    });\n\n    const callbackID = 'ZegoMinimizeRoom' + String(Math.floor(Math.random() * 10000));\n    \n    const layoutHandle = useCallback((e: LayoutChangeEvent) => {\n        const  { x, y, width, height } = e.nativeEvent.layout;\n        setFloatViewInfo({ width, height });\n    }, []);\n    const pressedHandle = async () => {\n        zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView] pressedHandle');\n        MinimizingHelper.getInstance().notifyMaximize();\n    }\n\n    useEffect(() => {\n        MinimizingHelper.getInstance().onPrebuiltInit(callbackID, () => {\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView] init success');\n            setIsInit(true);\n        });\n        TimingHelper.getInstance().onDurationUpdate(callbackID, (duration: number) => {\n            const isMinimize = MinimizingHelper.getInstance().getIsMinimize();\n            let routeParams = PrebuiltHelper.getInstance().getRouteParams();\n            if (isMinimize && typeof routeParams.onDurationUpdate == 'function') {\n                routeParams.onDurationUpdate(duration);\n            }\n        })\n\n        return () => {\n            // It will never be executed because this view is persistent.\n            MinimizingHelper.getInstance().onPrebuiltInit(callbackID);\n            TimingHelper.getInstance().onDurationUpdate(callbackID)\n        };\n    }, []);\n\n    useEffect(() => {\n        if (isInit) {\n            MinimizingHelper.getInstance().onWindowMinimized(callbackID, () => {\n                const initConfig = MinimizingHelper.getInstance().getInitConfig();\n                const { onWindowMinimized } = initConfig;\n                \n                if (typeof onWindowMinimized !== 'function') {\n                    zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMinimized] onWindowMinimized is not a function, ignore call it')\n                    return;\n                }\n\n                zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMinimized]')\n                setIsVisable(true);\n                MinimizingHelper.getInstance().setIsMinimizeSwitch(true, 'onWindowMinimized');\n\n                zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMinimized] execute requireConfig.onWindowMinimized will')\n                onWindowMinimized();\n                zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMinimized] execute requireConfig.onWindowMinimized succeed')\n\n                setTimeout(() => {\n                    ZegoUIKit.forceRenderVideoView();\n                }, 100);\n            });\n            MinimizingHelper.getInstance().onWindowMaximized(callbackID, () => {\n                zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMaximized]')\n\n                setIsVisable(false);\n                const initConfig = MinimizingHelper.getInstance().getInitConfig();\n                const { onWindowMaximized } = initConfig;\n\n                const routeParams = PrebuiltHelper.getInstance().getRouteParams();\n                // if routeParams is empty, do not call onWindowMaximized, to avoid exception in ZegoUIKitPrebuiltCallInCallScreen\n                // In MinimizeSwitch mode, MinimizeView will gone after clearRouteParams\n                if (typeof onWindowMaximized === 'function' && Object.keys(routeParams).length > 0) {\n                    zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMaximized] execute initConfig.onWindowMaximized will')\n                    onWindowMaximized();\n                    zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMaximized] execute initConfig.onWindowMaximized succeed')\n                    MinimizingHelper.getInstance().setIsMinimizeSwitch(true, 'onWindowMaximized');\n                } else {\n                    zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onWindowMaximized] onWindowMaximized not a function or routeParams is empty');\n                    // Since the room can't be restored and the option to maximize the entrance has already invisable, to avoid exception leater, the minimized state should be restored to false.\n                    MinimizingHelper.getInstance().setIsMinimizeSwitch(false, 'onWindowMaximized not a function');\n                }\n            });\n            MinimizingHelper.getInstance().onEntryNormal(callbackID, () => {\n                setIsVisable(false);\n            });\n            MinimizingHelper.getInstance().onActiveUserIDUpdate(callbackID, (activeUserID) => {\n                // zloginfo(`[ZegoUIKitPrebuiltCallFloatingMinimizedView] onActiveUserIDUpdate`, activeUserID);\n                setActiveUserID(activeUserID);\n            });\n        }\n        return () => {\n            MinimizingHelper.getInstance().onWindowMinimized(callbackID);\n            MinimizingHelper.getInstance().onWindowMaximized(callbackID);\n            MinimizingHelper.getInstance().onEntryNormal(callbackID);\n            MinimizingHelper.getInstance().onActiveUserIDUpdate(callbackID);\n        }\n    }, [isInit]);\n\n    useEffect(() => {\n      ZegoUIKit.onOnlySelfInRoom(callbackID, () => {\n        zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onOnlySelfInRoom] callbackID:', callbackID)\n\n        const isMinimize = MinimizingHelper.getInstance().getIsMinimize();\n        let routeParams = PrebuiltHelper.getInstance().getRouteParams();\n        const duration = TimingHelper.getInstance().getDuration()\n        if (isMinimize && typeof routeParams.onCallEnd == 'function') {\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onOnlySelfInRoom] notify requireConfig.onCallEnd will')\n            routeParams.onCallEnd(routeParams.roomID, ZegoCallEndReason.remoteHangUp, duration);\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onOnlySelfInRoom] notify requireConfig.onCallEnd succeed')      \n    \n            PrebuiltHelper.getInstance().notifyDestroyPrebuilt();\n        }\n      })\n      \n      ZegoUIKit.onMeRemovedFromRoom(callbackID, () => {\n        zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onMeRemovedFromRoom] callbackID:', callbackID)\n\n        const isMinimize = MinimizingHelper.getInstance().getIsMinimize();\n        let routeParams = PrebuiltHelper.getInstance().getRouteParams();\n        const duration = TimingHelper.getInstance().getDuration()\n        if (isMinimize && typeof routeParams.onCallEnd == 'function') {\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onMeRemovedFromRoom] notify requireConfig.onCallEnd will')\n            routeParams.onCallEnd(routeParams.roomID, ZegoCallEndReason.kickOut, duration);\n            zloginfo('[ZegoUIKitPrebuiltCallFloatingMinimizedView][onMeRemovedFromRoom] notify requireConfig.onCallEnd succeed')      \n\n            PrebuiltHelper.getInstance().notifyDestroyPrebuilt();\n        }\n      });\n\n      return () => {\n        // It will never be executed because this view is persistent.\n        ZegoUIKit.onOnlySelfInRoom(callbackID)\n        ZegoUIKit.onMeRemovedFromRoom(callbackID)\n      }\n    }, [])\n\n    return (\n        <Animated.View\n            style={[\n                { position: 'absolute', left: layout.left, top: layout.top },\n                { display: isVisable ? 'flex' : 'none' },\n            ]}\n            onLayout={layoutHandle}\n            {...panResponder.panHandlers}\n        >\n            <View\n                style={[\n                    styles.floatAudioView,\n                    {\n                        width,\n                        height,\n                        borderRadius,\n                    }\n                ]}\n            >\n                {\n                    activeUserID ? <ZegoAudioVideoView\n                        key={activeUserID}\n                        userID={activeUserID}\n                        useVideoViewAspectFill={useVideoViewAspectFill}\n                        showSoundWave={showSoundWaveInAudioMode}\n                    /> : <View />\n                }\n            </View>\n        </Animated.View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    floatAudioView: {\n        overflow: 'hidden',\n        zIndex: 10000,\n        shadowColor: \"#000\",\n        shadowOffset: {\n            width: 0,\n            height: 2,\n        },\n        shadowOpacity: 0.25,\n        shadowRadius: 3.84,\n        elevation: 8\n    },\n});\n"],"mappings":"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","ignoreList":[]}