{"version":3,"names":["React","useEffect","useState","useRef","Dimensions","PanResponder","SafeAreaView","ScrollView","StyleSheet","TouchableWithoutFeedback","View","ZegoUIKitInternal","ZegoAudioVideoView","ZegoViewPosition","zloginfo","PictureInPictureLayout","props","config","foregroundBuilder","audioVideoConfig","sortAudioVideo","avatarBuilder","isSmallViewDraggable","smallViewBackgroundColor","largeViewBackgroundColor","smallViewBackgroundImage","largeViewBackgroundImage","smallViewPostion","bottomRight","switchLargeOrSmallViewByClick","smallViewSize","width","height","spacingBetweenSmallViews","removeViewWhenAudioVideoUnavailable","smallViewBorderRadius","useVideoViewAspectFill","showSoundWavesInAudioMode","cacheAudioVideoUserList","screenHeight","get","realTimeData","globalAudioVideoUserList","setGlobalAudioVideoUserList","panResponder","create","onStartShouldSetPanResponderCapture","current","callbackID","String","Math","floor","random","onAudioVideoAvailable","userList","forEach","user","result","find","item","userID","push","onAudioVideoUnavailable","findIndex","splice","onAudioVideoListForceSort","onVideoViewForceRender","onUserLeave","userIDInGlobalAudioVideoUserList","map","userInfo","getSmallViewPostStyle","styleList","styles","smallViewPostTopLeft","smallViewPostTopRight","smallViewPostBottomLeft","smallViewPostBottomRight","topLeft","switchLargeOrSmallView","index","layoutHandle","event","nativeEvent","layout","x","y","createElement","style","container","smallViewContainer","maxHeight","contentContainerStyle","bottomLeft","justifyContent","alignItems","onLayout","slice","_extends","key","panHandlers","onPress","bind","smallView","smallViewBorder","getSmallViewSize","getSmallViewSpacing","smallViewSpacing","getSmallViewBorderRadius","audioViewBackgroudColor","audioViewBackgroudImage","showSoundWave","isPictureInPicture","bigView","isLandscape","margin","marginBottom","radius","borderRadius","flex","position","backgroundColor","zIndex","overflow","borderWidth","borderColor","top","left","right","bottom"],"sources":["PictureInPictureLayout.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Dimensions, PanResponder, SafeAreaView, ScrollView, StyleSheet, TouchableWithoutFeedback, View } from 'react-native'\nimport ZegoUIKitInternal from \"../../internal/ZegoUIKitInternal\";\nimport ZegoAudioVideoView from \"../../audio_video/ZegoAudioVideoView\";\nimport { ZegoViewPosition } from './defines'\nimport { zloginfo } from \"../../../utils/logger\";\n\nexport default function PictureInPictureLayout(props: any) {\n    const { \n      config = {}, \n      foregroundBuilder, \n      audioVideoConfig = {}, \n      sortAudioVideo,\n      avatarBuilder\n    } = props;\n    const {\n        isSmallViewDraggable = false, // TODO\n        smallViewBackgroundColor = '',\n        largeViewBackgroundColor = '',\n        smallViewBackgroundImage = '',\n        largeViewBackgroundImage = '',\n        smallViewPostion = ZegoViewPosition.bottomRight,\n        switchLargeOrSmallViewByClick = true,\n        smallViewSize = { width: 85, height: 151 },\n        spacingBetweenSmallViews = 8,\n        removeViewWhenAudioVideoUnavailable = false,\n        smallViewBorderRadius = 10,\n    } = config;\n    const {\n        useVideoViewAspectFill = false,\n        showSoundWavesInAudioMode = true,\n        cacheAudioVideoUserList,\n    } = audioVideoConfig;\n\n    const { height: screenHeight } = Dimensions.get('window');\n\n    const realTimeData: any = useRef(cacheAudioVideoUserList || []);\n    const [globalAudioVideoUserList, setGlobalAudioVideoUserList] = useState(cacheAudioVideoUserList || []);\n\n    const panResponder = useRef(PanResponder.create({\n        // @ts-ignore\n        onStartShouldSetPanResponderCapture: () => {\n            zloginfo('Switch the big screen');\n        }\n    })).current;\n\n    useEffect(() => {\n        zloginfo(`[PictureInPictureLayout] useEffect`)\n\n        zloginfo('########cacheAudioVideoUserList########', cacheAudioVideoUserList);\n        const callbackID = 'PictureInPictureLayout' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKitInternal.onAudioVideoAvailable(callbackID, (userList: any[]) => {\n            userList.forEach((user) => {\n                const result = realTimeData.current.find((item: any) => user.userID === item.userID);\n                if (!result) {\n                    realTimeData.current.push(user);\n                    setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n                }\n            });\n        });\n        ZegoUIKitInternal.onAudioVideoUnavailable(callbackID, (userList: any[]) => {\n            if (removeViewWhenAudioVideoUnavailable) {\n                userList.forEach((user) => {\n                    const result = realTimeData.current.findIndex((item: any) => user.userID === item.userID);\n                    if (result !== -1) {\n                        realTimeData.current.splice(result, 1);\n                        setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n                    }\n                });\n            }\n        });\n        ZegoUIKitInternal.onAudioVideoListForceSort(callbackID, () => {\n            setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n        });\n        ZegoUIKitInternal.onVideoViewForceRender(callbackID, () => {\n          setGlobalAudioVideoUserList([...realTimeData.current]);\n        });\n        ZegoUIKitInternal.onUserLeave(callbackID, (userList: any[]) => {\n            if (!removeViewWhenAudioVideoUnavailable) {\n                userList.forEach((user) => {\n                    const result = realTimeData.current.findIndex((item: any) => user.userID === item.userID);\n                    if (result !== -1) {\n                        realTimeData.current.splice(result, 1);\n                        setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n                    }\n                });\n            }\n        });\n        return () => {\n            zloginfo(`[PictureInPictureLayout] useEffect return`)\n\n            ZegoUIKitInternal.onAudioVideoListForceSort(callbackID);\n            ZegoUIKitInternal.onVideoViewForceRender(callbackID);\n            ZegoUIKitInternal.onAudioVideoAvailable(callbackID);\n            ZegoUIKitInternal.onAudioVideoUnavailable(callbackID);\n            ZegoUIKitInternal.onUserLeave(callbackID);\n        }\n    }, [])\n\n    useEffect(() => {\n        let userIDInGlobalAudioVideoUserList = globalAudioVideoUserList.map((userInfo: any) => userInfo.userID)\n        zloginfo(`[PictureInPictureLayout] globalAudioVideoUserList updated: ${userIDInGlobalAudioVideoUserList}`)\n    }, [globalAudioVideoUserList])\n\n    const getSmallViewPostStyle = () => {\n        const styleList = [styles.smallViewPostTopLeft, styles.smallViewPostTopRight, styles.smallViewPostBottomLeft, styles.smallViewPostBottomRight];\n        if (smallViewPostion >= ZegoViewPosition.topLeft && smallViewPostion <= ZegoViewPosition.bottomRight) {\n            return styleList[smallViewPostion];\n        } else {\n            return styles.smallViewPostTopLeft;\n        }\n    }\n    const switchLargeOrSmallView = (index: number) => {\n        if (switchLargeOrSmallViewByClick) {\n            globalAudioVideoUserList[0] = globalAudioVideoUserList.splice(index + 1, 1, globalAudioVideoUserList[0])[0];\n            setGlobalAudioVideoUserList(() => [...globalAudioVideoUserList]);\n            realTimeData.current = globalAudioVideoUserList;\n        }\n    }\n    const layoutHandle = (event: any) => {\n        const { nativeEvent } = event;\n        const { layout } = nativeEvent;\n        const { width, height, x, y } = layout;\n        // zloginfo('######layoutHandle', layout);\n    }\n\n    return (<View style={styles.container}>\n        <ScrollView \n            style={[styles.smallViewContainer, getSmallViewPostStyle(), {maxHeight: screenHeight-80-100}]} \n            contentContainerStyle={ smallViewPostion >= ZegoViewPosition.bottomLeft ? {justifyContent: 'flex-end', alignItems: 'flex-end'} : null }\n            onLayout={layoutHandle}>\n            {\n                globalAudioVideoUserList.slice(1).map((user: any, index: number) => <TouchableWithoutFeedback key={user.userID} {...panResponder.panHandlers} onPress={switchLargeOrSmallView.bind(this, index, user)}>\n                  <SafeAreaView >\n                    <View\n                      key={user.userID}\n                      style={[\n                        styles.smallView,\n                        styles.smallViewBorder,\n                        getSmallViewSize(user, smallViewSize.width, smallViewSize.height).smallViewSize,\n                        getSmallViewSpacing(spacingBetweenSmallViews).smallViewSpacing,\n                        getSmallViewBorderRadius(smallViewBorderRadius).smallViewBorderRadius,\n                      ]}>\n                        <ZegoAudioVideoView\n                            userID={user.userID}\n                            audioViewBackgroudColor={smallViewBackgroundColor}\n                            audioViewBackgroudImage={smallViewBackgroundImage}\n                            showSoundWave={showSoundWavesInAudioMode}\n                            useVideoViewAspectFill={useVideoViewAspectFill}\n                            foregroundBuilder={foregroundBuilder}\n                            avatarBuilder={avatarBuilder}\n                            isPictureInPicture={true}\n                        />\n                    </View>\n                  </SafeAreaView>\n                </TouchableWithoutFeedback>)\n            }\n        </ScrollView>\n        <View style={styles.bigView}>\n            {globalAudioVideoUserList[0] ?\n                <ZegoAudioVideoView\n                    key={globalAudioVideoUserList[0].userID}\n                    userID={globalAudioVideoUserList[0].userID}\n                    audioViewBackgroudColor={largeViewBackgroundColor}\n                    audioViewBackgroudImage={largeViewBackgroundImage}\n                    showSoundWave={showSoundWavesInAudioMode}\n                    useVideoViewAspectFill={useVideoViewAspectFill}\n                    foregroundBuilder={foregroundBuilder}\n                    avatarBuilder={avatarBuilder}\n                    isPictureInPicture={true}\n                /> :\n                <View />\n            }\n        </View>\n    </View>)\n}\n\nconst getSmallViewSize = (user: any, width: number, height: number) => {\n  return StyleSheet.create({\n    smallViewSize: {\n      width: user.isLandscape ? height : width,\n      height: user.isLandscape ? width : height,\n    },\n  });\n}\nconst getSmallViewSpacing = (margin: number) => StyleSheet.create({\n    smallViewSpacing: {\n        marginBottom: margin,\n    },\n});\n\nconst getSmallViewBorderRadius = (radius: number) => StyleSheet.create({\n    smallViewBorderRadius: {\n        borderRadius: radius,\n    }\n});\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n    },\n    bigView: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        backgroundColor: '#4A4B4D',\n        zIndex: 1,\n    },\n    smallViewContainer: {\n        flex: 1,\n        position: 'absolute',\n        zIndex: 12,\n        // height: '76%',\n    },\n    smallView: {\n        // borderRadius: 10,\n        overflow: 'hidden',\n        backgroundColor: '#4A4B4D',\n    },\n    smallViewBorder: {\n        borderWidth: 0.5,\n        borderColor: '#A4A4A4',\n    },\n    smallViewPostTopLeft: {\n        top: 80,\n        left: 12,\n    },\n    smallViewPostTopRight: {\n        top: 80,\n        right: 12,\n    },\n    smallViewPostBottomLeft: {\n        bottom: 100,\n        left: 12,\n    },\n    smallViewPostBottomRight: {\n        bottom: 100,\n        right: 12,\n    }\n})"],"mappings":"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","ignoreList":[]}