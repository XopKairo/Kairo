{"version":3,"names":["ZegoPluginRoomPropertiesCore","ZegoPluginRoomPropertiesService","constructor","shared","getInstance","updateRoomProperty","key","value","isDeleteAfterOwnerLeft","isForce","isUpdateOwner","attributes","config","deleteRoomProperties","keys","beginRoomPropertiesBatchOperation","endRoomPropertiesBatchOperation","queryRoomProperties","onRoomPropertyUpdated","callbackID","callback","_ZegoPluginRoomPropertiesService","_defineProperty"],"sources":["room_properties_service.ts"],"sourcesContent":["import type { ZIMRoomAttributesUpdateInfo } from 'zego-zim-react-native';\nimport ZegoPluginRoomPropertiesCore from '../core/room_properties_core';\n\nexport default class ZegoPluginRoomPropertiesService {\n  static shared: ZegoPluginRoomPropertiesService;\n  constructor() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared = this;\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  static getInstance() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared =\n        new ZegoPluginRoomPropertiesService();\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  updateRoomProperty(\n    key: string,\n    value: string,\n    isDeleteAfterOwnerLeft: boolean,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const attributes = { [key]: value };\n    const config = {\n      isForce,\n      isDeleteAfterOwnerLeft,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().updateRoomProperty(\n      attributes,\n      config\n    );\n  }\n  deleteRoomProperties(keys: string[] = [], isForce: boolean) {\n    const config = {\n      isForce,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().deleteRoomProperties(\n      keys,\n      config\n    );\n  }\n  beginRoomPropertiesBatchOperation(\n    isDeleteAfterOwnerLeft = false,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const config = {\n      isDeleteAfterOwnerLeft,\n      isForce,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().beginRoomPropertiesBatchOperation(\n      config\n    );\n  }\n  endRoomPropertiesBatchOperation() {\n    return ZegoPluginRoomPropertiesCore.getInstance().endRoomPropertiesBatchOperation();\n  }\n  queryRoomProperties() {\n    return ZegoPluginRoomPropertiesCore.getInstance().queryRoomProperties();\n  }\n  onRoomPropertyUpdated(callbackID: string, callback: (notifyData: ZIMRoomAttributesUpdateInfo) => void) {\n    ZegoPluginRoomPropertiesCore.getInstance().onRoomPropertyUpdated(\n      callbackID,\n      callback\n    );\n  }\n}\n"],"mappings":";;;;AACA,OAAOA,4BAA4B,MAAM,8BAA8B;AAEvE,eAAe,MAAMC,+BAA+B,CAAC;EAEnDC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACD,+BAA+B,CAACE,MAAM,EAAE;MAC3CF,+BAA+B,CAACE,MAAM,GAAG,IAAI;IAC/C;IACA,OAAOF,+BAA+B,CAACE,MAAM;EAC/C;EACA,OAAOC,WAAWA,CAAA,EAAG;IACnB,IAAI,CAACH,+BAA+B,CAACE,MAAM,EAAE;MAC3CF,+BAA+B,CAACE,MAAM,GACpC,IAAIF,+BAA+B,CAAC,CAAC;IACzC;IACA,OAAOA,+BAA+B,CAACE,MAAM;EAC/C;EACAE,kBAAkBA,CAChBC,GAAW,EACXC,KAAa,EACbC,sBAA+B,EAC/BC,OAAO,GAAG,KAAK,EACfC,aAAa,GAAG,KAAK,EACrB;IACA,MAAMC,UAAU,GAAG;MAAE,CAACL,GAAG,GAAGC;IAAM,CAAC;IACnC,MAAMK,MAAM,GAAG;MACbH,OAAO;MACPD,sBAAsB;MACtBE;IACF,CAAC;IACD,OAAOV,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACC,kBAAkB,CAClEM,UAAU,EACVC,MACF,CAAC;EACH;EACAC,oBAAoBA,CAACC,IAAc,GAAG,EAAE,EAAEL,OAAgB,EAAE;IAC1D,MAAMG,MAAM,GAAG;MACbH;IACF,CAAC;IACD,OAAOT,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACS,oBAAoB,CACpEC,IAAI,EACJF,MACF,CAAC;EACH;EACAG,iCAAiCA,CAC/BP,sBAAsB,GAAG,KAAK,EAC9BC,OAAO,GAAG,KAAK,EACfC,aAAa,GAAG,KAAK,EACrB;IACA,MAAME,MAAM,GAAG;MACbJ,sBAAsB;MACtBC,OAAO;MACPC;IACF,CAAC;IACD,OAAOV,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACW,iCAAiC,CACjFH,MACF,CAAC;EACH;EACAI,+BAA+BA,CAAA,EAAG;IAChC,OAAOhB,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACY,+BAA+B,CAAC,CAAC;EACrF;EACAC,mBAAmBA,CAAA,EAAG;IACpB,OAAOjB,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACa,mBAAmB,CAAC,CAAC;EACzE;EACAC,qBAAqBA,CAACC,UAAkB,EAAEC,QAA2D,EAAE;IACrGpB,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACc,qBAAqB,CAC9DC,UAAU,EACVC,QACF,CAAC;EACH;AACF;AAACC,gCAAA,GApEoBpB,+BAA+B;AAAAqB,eAAA,CAA/BrB,+BAA+B","ignoreList":[]}