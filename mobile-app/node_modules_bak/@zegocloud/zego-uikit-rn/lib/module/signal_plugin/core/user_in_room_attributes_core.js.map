{"version":3,"names":["zlogerror","zloginfo","ZegoPluginResult","ZegoUIKitCorePlugin","ZegoPluginUserInRoomAttributesCore","constructor","_defineProperty","shared","getInstance","_registerEngineCallback","getZIMPlugin","default","on","zim","roomID","infos","operatedInfo","_notifyUsersInRoomAttributesUpdated","map","info","attributesInfo","editor","userID","_unregisterEngineCallback","off","_resetData","_resetDataForLeaveRoom","_roomBaseInfo","_isJoinRoom","notifyData","Object","keys","_onUsersInRoomAttributesUpdatedCallbackMap","forEach","callbackID","joinRoom","Promise","reject","resolve","enterRoom","roomName","then","roomInfo","baseInfo","catch","error","code","message","leaveRoom","leaveAllRoom","getRoomBaseInfo","setUsersInRoomAttributes","attributes","userIDs","setRoomMembersAttributes","isDeleteAfterOwnerLeft","errorUserList","queryUsersInRoomAttributes","config","queryRoomMemberAttributesList","nextFlag","resNextFlag","params","onUsersInRoomAttributesUpdated","callback","_ZegoPluginUserInRoomAttributesCore"],"sources":["user_in_room_attributes_core.ts"],"sourcesContent":["import type {\n  ZIMRoomInfo,\n  ZIMRoomMemberAttributesInfo,\n  ZIMRoomMemberAttributesQueryConfig,\n  ZIMEventOfRoomMembersAttributesUpdatedResult,\n  ZIMRoomEnteredResult,\n  ZIMError,\n  ZIMRoomMembersAttributesOperatedResult,\n  ZIMRoomMemberAttributesListQueriedResult,\n} from 'zego-zim-react-native';\nimport { zlogerror, zloginfo } from '../utils/logger';\nimport ZegoPluginResult from './defines';\nimport ZegoUIKitCorePlugin from \"../../components/internal/ZegoUIKitCorePlugin\";\n\nexport default class ZegoPluginUserInRoomAttributesCore {\n  static shared: ZegoPluginUserInRoomAttributesCore;\n  _isJoinRoom = false;\n  _roomBaseInfo = {} as ZIMRoomInfo; // { roomID: '', roomName: '' }\n  _onUsersInRoomAttributesUpdatedCallbackMap: { [index: string]: (notifyData: {\n    infos: ZIMRoomMemberAttributesInfo[];\n    editor: string;\n  }) => void } = {};\n  constructor() {\n    if (!ZegoPluginUserInRoomAttributesCore.shared) {\n      ZegoPluginUserInRoomAttributesCore.shared = this;\n    }\n    return ZegoPluginUserInRoomAttributesCore.shared;\n  }\n  static getInstance() {\n    if (!ZegoPluginUserInRoomAttributesCore.shared) {\n      ZegoPluginUserInRoomAttributesCore.shared =\n        new ZegoPluginUserInRoomAttributesCore();\n    }\n    return ZegoPluginUserInRoomAttributesCore.shared;\n  }\n  // ------- internal events register ------\n  _registerEngineCallback() {\n    ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance().on(\n      'roomMemberAttributesUpdated',\n      (zim: any, { roomID, infos, operatedInfo }: ZIMEventOfRoomMembersAttributesUpdatedResult) => {\n        zloginfo(\n          `[ZegoPluginUserInRoomAttributesCore]NotifyUsersInRoomAttributesUpdated`,\n          infos,\n          operatedInfo\n        );\n        this._notifyUsersInRoomAttributesUpdated({\n          infos: infos.map((info) => info.attributesInfo),\n          editor: operatedInfo.userID,\n        });\n      }\n    );\n    zloginfo(\n      '[ZegoPluginUserInRoomAttributesCore]Register callback for ZIM...'\n    );\n  }\n  _unregisterEngineCallback() {\n    zloginfo(\n      '[ZegoPluginUserInRoomAttributesCore]Unregister callback from ZIM...'\n    );\n    ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance().off('roomMemberAttributesUpdated');\n  }\n  // ------- internal utils ------\n  _resetData() {\n    this._resetDataForLeaveRoom();\n  }\n  _resetDataForLeaveRoom() {\n    this._roomBaseInfo = {} as ZIMRoomInfo;\n    this._isJoinRoom = false;\n  }\n  // ------- internal events exec ------\n  _notifyUsersInRoomAttributesUpdated(notifyData: {\n    infos: ZIMRoomMemberAttributesInfo[];\n    editor: string;\n  }) {\n    Object.keys(this._onUsersInRoomAttributesUpdatedCallbackMap).forEach(\n      (callbackID) => {\n        if (this._onUsersInRoomAttributesUpdatedCallbackMap[callbackID]) {\n          this._onUsersInRoomAttributesUpdatedCallbackMap[callbackID](\n            notifyData\n          );\n        }\n      }\n    );\n  }\n  // ------- external method ------\n  joinRoom(roomID: string) {\n    if (!ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()) {\n      zlogerror(\n        '[ZegoPluginUserInRoomAttributesCore]Please initialize it first.'\n      );\n      return Promise.reject();\n    }\n    return new Promise((resolve, reject) => {\n      if (!this._isJoinRoom) {\n        ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()\n          .enterRoom({ roomID, roomName: roomID })\n          .then(({ roomInfo }: ZIMRoomEnteredResult) => {\n            zloginfo(\n              `[ZegoPluginUserInRoomAttributesCore]Join the room successfully.`\n            );\n            this._roomBaseInfo = roomInfo.baseInfo;\n            this._isJoinRoom = true;\n            resolve(new ZegoPluginResult('', ''));\n          })\n          .catch((error: ZIMError) => {\n            zlogerror(\n              `[ZegoPluginUserInRoomAttributesCore]Failed to join the room, code: ${error.code}, message: ${error.message}`\n            );\n            reject(error);\n          });\n      } else {\n        zloginfo('[ZegoPluginUserInRoomAttributesCore]Join room already success.');\n        resolve(new ZegoPluginResult('', ''));\n      }\n    });\n  }\n  leaveRoom() {\n    if (!ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()) {\n      zlogerror(\n        '[ZegoPluginUserInRoomAttributesCore]Please initialize it first.'\n      );\n      return Promise.reject();\n    }\n    if (!this._roomBaseInfo.roomID) {\n      zlogerror(\n        '[ZegoPluginUserInRoomAttributesCore]Please join the room first.'\n      );\n      return Promise.reject();\n    }\n    return new Promise((resolve, reject) => {\n      ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()\n        .leaveRoom(this._roomBaseInfo.roomID)\n        .then(() => {\n          zloginfo(\n            `[ZegoPluginUserInRoomAttributesCore]Leave the room successfully.`\n          );\n          this._resetDataForLeaveRoom();\n          resolve(new ZegoPluginResult('', ''));\n        })\n        .catch((error: ZIMError) => {\n          zlogerror(\n            `[ZegoPluginUserInRoomAttributesCore]Failed to leave the room, code: ${error.code}, message: ${error.message}`\n          );\n          reject(error);\n        });\n    });\n  }\n  leaveAllRoom() {\n    if (!ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()) {\n      zlogerror(\n        '[ZegoPluginUserInRoomAttributesCore]Please initialize it first.'\n      );\n      return Promise.reject();\n    }\n    return new Promise((resolve, reject) => {\n      ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()\n        .leaveAllRoom()\n        .then(() => {\n          zloginfo(\n            `[ZegoPluginUserInRoomAttributesCore]Leave all room successfully.`\n          );\n          this._resetDataForLeaveRoom();\n          resolve(new ZegoPluginResult('', ''));\n        })\n        .catch((error: ZIMError) => {\n          zlogerror(\n            `[ZegoPluginUserInRoomAttributesCore]Failed to leave all room, code: ${error.code}, message: ${error.message}`\n          );\n          reject(error);\n        });\n    });\n  }\n\n  getRoomBaseInfo() {\n    return this._roomBaseInfo;\n  }\n  setUsersInRoomAttributes(attributes: Record<string, string>, userIDs: string[]) {\n    if (!ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()) {\n      zlogerror(\n        '[ZegoPluginUserInRoomAttributesCore]Please initialize it first.'\n      );\n      return Promise.reject();\n    }\n    return new Promise((resolve, reject) => {\n      ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()\n        .setRoomMembersAttributes(\n          attributes,\n          userIDs,\n          this._roomBaseInfo.roomID,\n          { isDeleteAfterOwnerLeft: true }\n        )\n        .then(({ roomID, infos, errorUserList }: ZIMRoomMembersAttributesOperatedResult) => {\n          zloginfo(\n            `[ZegoPluginUserInRoomAttributesCore]Set attributes of users in room successfully.`\n          );\n          resolve({\n            ...new ZegoPluginResult('', ''),\n            errorUserList,\n            infos,\n          });\n        })\n        .catch((error: ZIMError) => {\n          zlogerror(\n            `[ZegoPluginUserInRoomAttributesCore]Failed to set the user's attributes, code: ${error.code}, message: ${error.message}`\n          );\n          reject(error);\n        });\n    });\n  }\n  queryUsersInRoomAttributes(config: ZIMRoomMemberAttributesQueryConfig) {\n    if (!ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()) {\n      zlogerror(\n        '[ZegoPluginUserInRoomAttributesCore]Please initialize it first.'\n      );\n      return Promise.reject();\n    }\n    return new Promise((resolve, reject) => {\n      ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()\n        .queryRoomMemberAttributesList(this._roomBaseInfo.roomID, config)\n        .then(({ roomID, infos, nextFlag: resNextFlag }: ZIMRoomMemberAttributesListQueriedResult) => {\n          zloginfo(\n            `[ZegoPluginUserInRoomAttributesCore]Query attributes of users in room successfully.`\n          );\n          const params = {\n            ...new ZegoPluginResult('', ''),\n            nextFlag: resNextFlag,\n            infos,\n          };\n          resolve(params);\n        })\n        .catch((error: ZIMError) => {\n          zlogerror(\n            `[ZegoPluginUserInRoomAttributesCore]Failed to query the user's attributes, code: ${error.code}, message: ${error.message}`\n          );\n          reject(error);\n        });\n    });\n  }\n  // ------- external events register ------\n  onUsersInRoomAttributesUpdated(callbackID: string, callback: (notifyData: {\n    infos: ZIMRoomMemberAttributesInfo[];\n    editor: string;\n  }) => void) {\n    if (!ZegoUIKitCorePlugin.getZIMPlugin().default.getInstance()) {\n      zlogerror(\n        '[ZegoPluginUserInRoomAttributesCore]Please initialize it first.'\n      );\n    }\n    if (typeof callback !== 'function') {\n      if (callbackID in this._onUsersInRoomAttributesUpdatedCallbackMap) {\n        zloginfo(\n          '[Core][onUsersInRoomAttributesUpdated] Remove callback for: [',\n          callbackID,\n          '] because callback is not a valid function!'\n        );\n        delete this._onUsersInRoomAttributesUpdatedCallbackMap[callbackID];\n      }\n    } else {\n      this._onUsersInRoomAttributesUpdatedCallbackMap[callbackID] = callback;\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}