{"version":3,"names":["_room_properties_core","_interopRequireDefault","require","_ZegoPluginRoomPropertiesService","e","__esModule","default","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","ZegoPluginRoomPropertiesService","constructor","shared","getInstance","updateRoomProperty","key","isDeleteAfterOwnerLeft","isForce","isUpdateOwner","attributes","config","ZegoPluginRoomPropertiesCore","deleteRoomProperties","keys","beginRoomPropertiesBatchOperation","endRoomPropertiesBatchOperation","queryRoomProperties","onRoomPropertyUpdated","callbackID","callback","exports"],"sources":["room_properties_service.ts"],"sourcesContent":["import type { ZIMRoomAttributesUpdateInfo } from 'zego-zim-react-native';\nimport ZegoPluginRoomPropertiesCore from '../core/room_properties_core';\n\nexport default class ZegoPluginRoomPropertiesService {\n  static shared: ZegoPluginRoomPropertiesService;\n  constructor() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared = this;\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  static getInstance() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared =\n        new ZegoPluginRoomPropertiesService();\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  updateRoomProperty(\n    key: string,\n    value: string,\n    isDeleteAfterOwnerLeft: boolean,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const attributes = { [key]: value };\n    const config = {\n      isForce,\n      isDeleteAfterOwnerLeft,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().updateRoomProperty(\n      attributes,\n      config\n    );\n  }\n  deleteRoomProperties(keys: string[] = [], isForce: boolean) {\n    const config = {\n      isForce,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().deleteRoomProperties(\n      keys,\n      config\n    );\n  }\n  beginRoomPropertiesBatchOperation(\n    isDeleteAfterOwnerLeft = false,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const config = {\n      isDeleteAfterOwnerLeft,\n      isForce,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().beginRoomPropertiesBatchOperation(\n      config\n    );\n  }\n  endRoomPropertiesBatchOperation() {\n    return ZegoPluginRoomPropertiesCore.getInstance().endRoomPropertiesBatchOperation();\n  }\n  queryRoomProperties() {\n    return ZegoPluginRoomPropertiesCore.getInstance().queryRoomProperties();\n  }\n  onRoomPropertyUpdated(callbackID: string, callback: (notifyData: ZIMRoomAttributesUpdateInfo) => void) {\n    ZegoPluginRoomPropertiesCore.getInstance().onRoomPropertyUpdated(\n      callbackID,\n      callback\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}