{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_ZegoUIKitInternal","_interopRequireDefault","_ZegoAudioVideoView","_defines","_logger","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","PictureInPictureLayout","props","config","foregroundBuilder","audioVideoConfig","sortAudioVideo","avatarBuilder","isSmallViewDraggable","smallViewBackgroundColor","largeViewBackgroundColor","smallViewBackgroundImage","largeViewBackgroundImage","smallViewPostion","ZegoViewPosition","bottomRight","switchLargeOrSmallViewByClick","smallViewSize","width","height","spacingBetweenSmallViews","removeViewWhenAudioVideoUnavailable","smallViewBorderRadius","useVideoViewAspectFill","showSoundWavesInAudioMode","cacheAudioVideoUserList","screenHeight","Dimensions","realTimeData","useRef","globalAudioVideoUserList","setGlobalAudioVideoUserList","useState","panResponder","PanResponder","create","onStartShouldSetPanResponderCapture","zloginfo","current","useEffect","callbackID","String","Math","floor","random","ZegoUIKitInternal","onAudioVideoAvailable","userList","forEach","user","result","find","item","userID","push","onAudioVideoUnavailable","findIndex","splice","onAudioVideoListForceSort","onVideoViewForceRender","onUserLeave","userIDInGlobalAudioVideoUserList","map","userInfo","getSmallViewPostStyle","styleList","styles","smallViewPostTopLeft","smallViewPostTopRight","smallViewPostBottomLeft","smallViewPostBottomRight","topLeft","switchLargeOrSmallView","index","layoutHandle","event","nativeEvent","layout","x","y","createElement","View","style","container","ScrollView","smallViewContainer","maxHeight","contentContainerStyle","bottomLeft","justifyContent","alignItems","onLayout","slice","TouchableWithoutFeedback","key","panHandlers","onPress","SafeAreaView","smallView","smallViewBorder","getSmallViewSize","getSmallViewSpacing","smallViewSpacing","getSmallViewBorderRadius","audioViewBackgroudColor","audioViewBackgroudImage","showSoundWave","isPictureInPicture","bigView","StyleSheet","isLandscape","margin","marginBottom","radius","borderRadius","flex","position","backgroundColor","zIndex","overflow","borderWidth","borderColor","top","left","right","bottom"],"sources":["PictureInPictureLayout.tsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Dimensions, PanResponder, SafeAreaView, ScrollView, StyleSheet, TouchableWithoutFeedback, View } from 'react-native'\nimport ZegoUIKitInternal from \"../../internal/ZegoUIKitInternal\";\nimport ZegoAudioVideoView from \"../../audio_video/ZegoAudioVideoView\";\nimport { ZegoViewPosition } from './defines'\nimport { zloginfo } from \"../../../utils/logger\";\n\nexport default function PictureInPictureLayout(props: any) {\n    const { \n      config = {}, \n      foregroundBuilder, \n      audioVideoConfig = {}, \n      sortAudioVideo,\n      avatarBuilder\n    } = props;\n    const {\n        isSmallViewDraggable = false, // TODO\n        smallViewBackgroundColor = '',\n        largeViewBackgroundColor = '',\n        smallViewBackgroundImage = '',\n        largeViewBackgroundImage = '',\n        smallViewPostion = ZegoViewPosition.bottomRight,\n        switchLargeOrSmallViewByClick = true,\n        smallViewSize = { width: 85, height: 151 },\n        spacingBetweenSmallViews = 8,\n        removeViewWhenAudioVideoUnavailable = false,\n        smallViewBorderRadius = 10,\n    } = config;\n    const {\n        useVideoViewAspectFill = false,\n        showSoundWavesInAudioMode = true,\n        cacheAudioVideoUserList,\n    } = audioVideoConfig;\n\n    const { height: screenHeight } = Dimensions.get('window');\n\n    const realTimeData: any = useRef(cacheAudioVideoUserList || []);\n    const [globalAudioVideoUserList, setGlobalAudioVideoUserList] = useState(cacheAudioVideoUserList || []);\n\n    const panResponder = useRef(PanResponder.create({\n        // @ts-ignore\n        onStartShouldSetPanResponderCapture: () => {\n            zloginfo('Switch the big screen');\n        }\n    })).current;\n\n    useEffect(() => {\n        zloginfo(`[PictureInPictureLayout] useEffect`)\n\n        zloginfo('########cacheAudioVideoUserList########', cacheAudioVideoUserList);\n        const callbackID = 'PictureInPictureLayout' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKitInternal.onAudioVideoAvailable(callbackID, (userList: any[]) => {\n            userList.forEach((user) => {\n                const result = realTimeData.current.find((item: any) => user.userID === item.userID);\n                if (!result) {\n                    realTimeData.current.push(user);\n                    setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n                }\n            });\n        });\n        ZegoUIKitInternal.onAudioVideoUnavailable(callbackID, (userList: any[]) => {\n            if (removeViewWhenAudioVideoUnavailable) {\n                userList.forEach((user) => {\n                    const result = realTimeData.current.findIndex((item: any) => user.userID === item.userID);\n                    if (result !== -1) {\n                        realTimeData.current.splice(result, 1);\n                        setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n                    }\n                });\n            }\n        });\n        ZegoUIKitInternal.onAudioVideoListForceSort(callbackID, () => {\n            setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n        });\n        ZegoUIKitInternal.onVideoViewForceRender(callbackID, () => {\n          setGlobalAudioVideoUserList([...realTimeData.current]);\n        });\n        ZegoUIKitInternal.onUserLeave(callbackID, (userList: any[]) => {\n            if (!removeViewWhenAudioVideoUnavailable) {\n                userList.forEach((user) => {\n                    const result = realTimeData.current.findIndex((item: any) => user.userID === item.userID);\n                    if (result !== -1) {\n                        realTimeData.current.splice(result, 1);\n                        setGlobalAudioVideoUserList(() => [...(sortAudioVideo ? sortAudioVideo(realTimeData.current) : realTimeData.current)]);\n                    }\n                });\n            }\n        });\n        return () => {\n            zloginfo(`[PictureInPictureLayout] useEffect return`)\n\n            ZegoUIKitInternal.onAudioVideoListForceSort(callbackID);\n            ZegoUIKitInternal.onVideoViewForceRender(callbackID);\n            ZegoUIKitInternal.onAudioVideoAvailable(callbackID);\n            ZegoUIKitInternal.onAudioVideoUnavailable(callbackID);\n            ZegoUIKitInternal.onUserLeave(callbackID);\n        }\n    }, [])\n\n    useEffect(() => {\n        let userIDInGlobalAudioVideoUserList = globalAudioVideoUserList.map((userInfo: any) => userInfo.userID)\n        zloginfo(`[PictureInPictureLayout] globalAudioVideoUserList updated: ${userIDInGlobalAudioVideoUserList}`)\n    }, [globalAudioVideoUserList])\n\n    const getSmallViewPostStyle = () => {\n        const styleList = [styles.smallViewPostTopLeft, styles.smallViewPostTopRight, styles.smallViewPostBottomLeft, styles.smallViewPostBottomRight];\n        if (smallViewPostion >= ZegoViewPosition.topLeft && smallViewPostion <= ZegoViewPosition.bottomRight) {\n            return styleList[smallViewPostion];\n        } else {\n            return styles.smallViewPostTopLeft;\n        }\n    }\n    const switchLargeOrSmallView = (index: number) => {\n        if (switchLargeOrSmallViewByClick) {\n            globalAudioVideoUserList[0] = globalAudioVideoUserList.splice(index + 1, 1, globalAudioVideoUserList[0])[0];\n            setGlobalAudioVideoUserList(() => [...globalAudioVideoUserList]);\n            realTimeData.current = globalAudioVideoUserList;\n        }\n    }\n    const layoutHandle = (event: any) => {\n        const { nativeEvent } = event;\n        const { layout } = nativeEvent;\n        const { width, height, x, y } = layout;\n        // zloginfo('######layoutHandle', layout);\n    }\n\n    return (<View style={styles.container}>\n        <ScrollView \n            style={[styles.smallViewContainer, getSmallViewPostStyle(), {maxHeight: screenHeight-80-100}]} \n            contentContainerStyle={ smallViewPostion >= ZegoViewPosition.bottomLeft ? {justifyContent: 'flex-end', alignItems: 'flex-end'} : null }\n            onLayout={layoutHandle}>\n            {\n                globalAudioVideoUserList.slice(1).map((user: any, index: number) => <TouchableWithoutFeedback key={user.userID} {...panResponder.panHandlers} onPress={switchLargeOrSmallView.bind(this, index, user)}>\n                  <SafeAreaView >\n                    <View\n                      key={user.userID}\n                      style={[\n                        styles.smallView,\n                        styles.smallViewBorder,\n                        getSmallViewSize(user, smallViewSize.width, smallViewSize.height).smallViewSize,\n                        getSmallViewSpacing(spacingBetweenSmallViews).smallViewSpacing,\n                        getSmallViewBorderRadius(smallViewBorderRadius).smallViewBorderRadius,\n                      ]}>\n                        <ZegoAudioVideoView\n                            userID={user.userID}\n                            audioViewBackgroudColor={smallViewBackgroundColor}\n                            audioViewBackgroudImage={smallViewBackgroundImage}\n                            showSoundWave={showSoundWavesInAudioMode}\n                            useVideoViewAspectFill={useVideoViewAspectFill}\n                            foregroundBuilder={foregroundBuilder}\n                            avatarBuilder={avatarBuilder}\n                            isPictureInPicture={true}\n                        />\n                    </View>\n                  </SafeAreaView>\n                </TouchableWithoutFeedback>)\n            }\n        </ScrollView>\n        <View style={styles.bigView}>\n            {globalAudioVideoUserList[0] ?\n                <ZegoAudioVideoView\n                    key={globalAudioVideoUserList[0].userID}\n                    userID={globalAudioVideoUserList[0].userID}\n                    audioViewBackgroudColor={largeViewBackgroundColor}\n                    audioViewBackgroudImage={largeViewBackgroundImage}\n                    showSoundWave={showSoundWavesInAudioMode}\n                    useVideoViewAspectFill={useVideoViewAspectFill}\n                    foregroundBuilder={foregroundBuilder}\n                    avatarBuilder={avatarBuilder}\n                    isPictureInPicture={true}\n                /> :\n                <View />\n            }\n        </View>\n    </View>)\n}\n\nconst getSmallViewSize = (user: any, width: number, height: number) => {\n  return StyleSheet.create({\n    smallViewSize: {\n      width: user.isLandscape ? height : width,\n      height: user.isLandscape ? width : height,\n    },\n  });\n}\nconst getSmallViewSpacing = (margin: number) => StyleSheet.create({\n    smallViewSpacing: {\n        marginBottom: margin,\n    },\n});\n\nconst getSmallViewBorderRadius = (radius: number) => StyleSheet.create({\n    smallViewBorderRadius: {\n        borderRadius: radius,\n    }\n});\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n    },\n    bigView: {\n        flex: 1,\n        width: '100%',\n        height: '100%',\n        position: 'absolute',\n        backgroundColor: '#4A4B4D',\n        zIndex: 1,\n    },\n    smallViewContainer: {\n        flex: 1,\n        position: 'absolute',\n        zIndex: 12,\n        // height: '76%',\n    },\n    smallView: {\n        // borderRadius: 10,\n        overflow: 'hidden',\n        backgroundColor: '#4A4B4D',\n    },\n    smallViewBorder: {\n        borderWidth: 0.5,\n        borderColor: '#A4A4A4',\n    },\n    smallViewPostTopLeft: {\n        top: 80,\n        left: 12,\n    },\n    smallViewPostTopRight: {\n        top: 80,\n        right: 12,\n    },\n    smallViewPostBottomLeft: {\n        bottom: 100,\n        left: 12,\n    },\n    smallViewPostBottomRight: {\n        bottom: 100,\n        right: 12,\n    }\n})"],"mappings":"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","ignoreList":[]}