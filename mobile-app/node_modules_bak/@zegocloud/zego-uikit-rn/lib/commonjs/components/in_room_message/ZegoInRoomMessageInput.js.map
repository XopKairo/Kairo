{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ZegoUIKitInternal","e","__esModule","default","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","ZegoInRoomMessageInput","React","Component","constructor","props","textInput","createRef","state","textInputHeight","contentWidth","currentText","iconPath","enable","iconSend","disable","iconSendDisable","focus","current","blur","clear","setState","onContentSizeChange","_submit","ZegoUIKitInternal","sendInRoomMessage","onSumit","render","createElement","View","style","styles","container","height","backgroundColor","textInputContainer","TextInput","ref","blurOnSubmit","multiline","autoFocus","editable","selectionColor","placeholder","placeholderTextColor","nativeEvent","contentSize","width","h","Platform","OS","onChangeText","text","onSubmitEditing","TouchableOpacity","sendButton","top","onPress","Image","resizeMode","icon","source","_default","exports","StyleSheet","create","position","right","justifyContent","alignItems","color","paddingTop","paddingBottom","marginLeft","paddingRight","borderTopLeftRadius","borderTopRightRadius"],"sources":["ZegoInRoomMessageInput.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, View, TextInput, Image, TouchableOpacity, Platform } from 'react-native';\nimport ZegoUIKitInternal from '../internal/ZegoUIKitInternal';\n\n// https://github.com/react-native-community/hooks#usekeyboard\nclass ZegoInRoomMessageInput extends React.Component {\n    textInput: any;\n    iconPath: any;\n    state: any;\n    constructor(props: any) {\n        super(props);\n        this.textInput = React.createRef();\n        this.state = {\n            textInputHeight: 45,\n            contentWidth: 0,\n            currentText: \"\"\n        };\n        this.iconPath = {\n            // @ts-ignore\n            enable: this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_enable.png'),\n            // @ts-ignore\n            disable: this.props.iconSendDisable ? this.props.iconSendDisable : (this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_disable.png'))\n        }\n    }\n\n    focus() {\n        this.textInput.current.focus();\n    }\n    blur() {\n        this.textInput.current.blur();\n    }\n    clear() {\n        this.textInput.current.clear();\n        this.setState({ textInputHeight: 45, contentWidth: 0, currentText: \"\" })\n        // @ts-ignore\n        if (typeof this.props.onContentSizeChange == 'function') {\n            // @ts-ignore\n            this.props.onContentSizeChange(0, 45);\n        }\n    }\n    _submit() {\n        if (this.state.currentText != '') {\n            ZegoUIKitInternal.sendInRoomMessage(this.state.currentText);\n            this.clear();\n            this.blur();\n            // @ts-ignore\n            if (typeof this.props.onSumit == 'function') {\n                // @ts-ignore\n                this.props.onSumit();\n            }\n        }\n    }\n\n    render() {\n        return (\n            // @ts-ignore\n            <View style={[styles.container, { height: this.state.textInputHeight, backgroundColor: this.props.backgroundColor ? this.props.backgroundColor : 'rgba(0, 0, 0, 0.7500)' }]} >\n                <View style={styles.textInputContainer}>\n                    <TextInput\n                        ref={this.textInput}\n                        style={[styles.textInput]}\n                        blurOnSubmit={true}\n                        multiline={true}\n                        autoFocus={true}\n                        // @ts-ignore\n                        editable={this.props.enable ? this.props.enable : true}\n                        selectionColor={'#A653FF'}\n                        // @ts-ignore\n                        placeholder={this.props.placeholder ? this.props.placeholder : ''}\n                        placeholderTextColor={'rgba(255, 255, 255, 0.6)'}\n                        onContentSizeChange={({ nativeEvent: { contentSize: { width, height } } }) => {\n                            var h = height;\n                            // https://github.com/facebook/react-native/issues/29702\n                            if (Platform.OS == 'ios') {\n                                // I suspect that an old React Native version requires this height adjustment.\n                                // h = height + 25;\n                            }\n                            this.setState({ textInputHeight: h, contentWidth: width })\n                            // @ts-ignore\n                            if (typeof this.props.onContentSizeChange == 'function') {\n                                // @ts-ignore\n                                this.props.onContentSizeChange(width, h);\n                            }\n                        }}\n                        onChangeText={(text) => { this.setState({ currentText: text }); }}\n                        onSubmitEditing={() => this._submit()}\n                    />\n                </View>\n                <TouchableOpacity\n                    style={[styles.sendButton, { top: (this.state.textInputHeight - 29) / 2 }]}\n                    onPress={() => {\n                        this._submit();\n                    }}\n                >\n                    <Image\n                        resizeMode='contain'\n                        style={styles.icon}\n                        source={(this.state.currentText && this.state.currentText != \"\") ? this.iconPath.enable : this.iconPath.disable}\n                    />\n                </TouchableOpacity>\n            </View>\n        );\n    }\n}\nexport default ZegoInRoomMessageInput;\n\nconst styles = StyleSheet.create({\n    sendButton: {\n        position: 'absolute',\n        right: 10,\n        width: 29,\n        height: 29,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    icon: {\n        position: 'absolute',\n        width: '100%',\n        height: '100%'\n    },\n    textInput: {\n        color: 'white',\n        paddingTop: 12.5,\n        paddingBottom: 12.5,\n    },\n    textInputContainer: {\n        marginLeft: 15,\n        paddingRight: 59,\n        height: '100%',\n        width: '100%',\n    },\n    container: {\n        position: 'absolute',\n        borderTopLeftRadius: 12,\n        borderTopRightRadius: 12,\n        width: '100%'\n    }\n\n});\n"],"mappings":"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","ignoreList":[]}