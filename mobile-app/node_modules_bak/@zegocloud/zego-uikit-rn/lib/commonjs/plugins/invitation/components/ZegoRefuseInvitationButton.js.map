{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_ZegoUIKitInternal","_interopRequireDefault","_logger","_services","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ZegoRefuseInvitationButton","props","icon","text","inviterID","data","onPressed","onFailure","onWillPressed","backgroundColor","fontSize","color","width","height","borderRadius","verticalLayout","getImageSourceByPath","getRenderView","renderView","undefined","createElement","Image","resizeMode","source","Text","style","getCustomTextStyle","Fragment","marginRight","StyleSheet","create","getCustomContainerStyle","customContainer","flexDirection","onButtonPress","canRefuseInvitation","zloginfo","ZegoUIKitInvitationService","refuseInvitation","then","result","callID","catch","code","message","ZegoUIKitInternal","notifyErrorUpdate","zlogerror","TouchableOpacity","styles","container","onPress","alignItems","justifyContent"],"sources":["ZegoRefuseInvitationButton.tsx"],"sourcesContent":["import React, { Fragment } from 'react';\nimport { Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\n\nimport ZegoUIKitInternal from '../../../components/internal/ZegoUIKitInternal';\nimport ZegoPluginResult from '../../../signal_plugin/core/defines';\nimport { zloginfo, zlogerror } from '../../../utils/logger';\nimport ZegoUIKitInvitationService from '../services';\n\nexport default function ZegoRefuseInvitationButton(props: any) {\n  const {\n    icon,\n    text,\n    inviterID,\n    data,\n    onPressed,\n    onFailure,\n    onWillPressed,\n    backgroundColor = '#FF4A50',\n    fontSize = 16,\n    color = '#FFFFFF',\n    width, // The default size was not given in the first release, so I can't add it here\n    height, // The default size was not given in the first release, so I can't add it here\n    borderRadius = 1000,\n    verticalLayout, // Default row layout, no layout parameters default to precedence icon\n  } = props;\n  const getImageSourceByPath = () => {\n    return require('../resources/button_call_reject.png');\n  };\n  const getRenderView = () => {\n    let renderView;\n    if (verticalLayout === undefined) {\n      // Choose between icon and text\n      if (icon) {\n        renderView = <Image resizeMode=\"contain\" source={icon} />;\n      } else {\n        if (!text) {\n          renderView = (\n            <Image resizeMode=\"contain\" source={getImageSourceByPath()} />\n          );\n        } else {\n          renderView = <Text style={getCustomTextStyle(fontSize, color).text}>{text}</Text>;\n        }\n      }\n    } else {\n      // Both icon and text exist\n      renderView = <Fragment>\n        <Image resizeMode=\"contain\" source={icon || getImageSourceByPath()} style={{marginRight: 6}}/>\n        <Text style={getCustomTextStyle(fontSize, color).text}>{text}</Text>\n      </Fragment>\n    }\n    return renderView;\n  };\n  const getCustomTextStyle = (fontSize: number, color: string) => StyleSheet.create({\n    text: {\n      fontSize,\n      color,\n    },\n  });\n  const getCustomContainerStyle = (width: number, height: number, borderRadius: number, backgroundColor: string, verticalLayout: string) => StyleSheet.create({\n    customContainer: {\n      flexDirection: verticalLayout ? 'column' : 'row',\n      width,\n      height,\n      backgroundColor,\n      borderRadius,\n    },\n  });\n  const onButtonPress = () => {\n    const canRefuseInvitation = typeof onWillPressed === 'function' ? onWillPressed() : true;\n    if (!canRefuseInvitation) return;\n    zloginfo(\n      `[Components]Refuse invitation start, inviterID: ${inviterID}, data: ${data}`\n    );\n    \n    ZegoUIKitInvitationService.refuseInvitation(inviterID, data)\n      .then((result: ZegoPluginResult) => {\n        // @ts-ignore\n        zloginfo(`[Components]Refuse invitation success, callID: ${result.data.callID}`);\n        if (typeof onPressed === 'function') {\n          // @ts-ignore\n          onPressed({inviterID, callID: result.data.callID});\n        }\n      })\n      .catch(({ code, message }: any) => {\n        ZegoUIKitInternal.notifyErrorUpdate('RefuseInvitation', code, message);\n        if (typeof onFailure === 'function') {\n          onFailure({ code: code, message: message });\n        }\n        zlogerror(\n          `[Components]Refuse invitation error, code: ${code}, message: ${message}`\n        );\n      });\n  };\n  return (\n    <TouchableOpacity\n      style={[\n        styles.container,\n        getCustomContainerStyle(width, height, borderRadius, backgroundColor, verticalLayout).customContainer\n      ]}\n      onPress={onButtonPress}\n    >\n      {getRenderView()}\n    </TouchableOpacity>\n  );\n}\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"],"mappings":"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","ignoreList":[]}